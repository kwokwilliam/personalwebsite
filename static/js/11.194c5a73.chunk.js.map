{"version":3,"sources":["../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread.js","components/Pages/TutorQ/Components/StudentLocation/StudentLocation.js","components/Pages/TutorQ/Components/StudentLocation/Assets/TELabMap.png","../node_modules/firebase/functions/dist/index.esm.js","../node_modules/@firebase/functions/dist/index.cjs.js","components/Pages/TutorQ/Student/Components/TutorQButtons/TutorQButtons.js","components/Pages/TutorQ/Student/Components/TutorQDropdown/TutorQDropdown.js","components/Pages/TutorQ/Student/TutorQStudent.js"],"names":["_defineProperty","obj","key","value","Object","defineProperty","enumerable","configurable","writable","__webpack_require__","d","__webpack_exports__","_objectSpread","_defineProperty__WEBPACK_IMPORTED_MODULE_0__","target","i","arguments","length","source","ownKeys","keys","getOwnPropertySymbols","concat","filter","sym","getOwnPropertyDescriptor","forEach","StudentLocation","_ref","locations","setLocation","student","_useState","useState","x","y","width","height","parentNodeOffsetLeft","parentNodeOffsetTop","_useState2","D_Files_JobRelated_personalwebsite_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_0__","imgData","setImgData","imgRef","useRef","imgWrapRef","useEffect","resize","current","_imgRef$current","offsetLeft","offsetTop","parentNode","_imgRef$current2","window","addEventListener","removeEventListener","react__WEBPACK_IMPORTED_MODULE_1___default","a","createElement","ref","style","position","alt","src","TELabMap","maxHeight","maxWidth","cursor","onClick","e","_e$target","locationObj","xPercentage","pageX","yPercentage","pageY","map","left","top","transform","display","_fortawesome_react_fontawesome__WEBPACK_IMPORTED_MODULE_2__","icon","faCircle","size","color","module","exports","p","ex","firebase","tslib_1","errorCodeMap","OK","CANCELLED","UNKNOWN","INVALID_ARGUMENT","DEADLINE_EXCEEDED","NOT_FOUND","ALREADY_EXISTS","PERMISSION_DENIED","UNAUTHENTICATED","RESOURCE_EXHAUSTED","FAILED_PRECONDITION","ABORTED","OUT_OF_RANGE","UNIMPLEMENTED","INTERNAL","UNAVAILABLE","DATA_LOSS","HttpsErrorImpl","_super","code","message","details","_this","call","this","setPrototypeOf","prototype","__extends","Error","ContextProvider","app","getAuthToken","__awaiter","token","__generator","_a","label","trys","push","getToken","sent","accessToken","undefined","getInstanceIdToken","messaging","getContext","authToken","instanceIdToken","mapValues","o","f","result","hasOwnProperty","Serializer","encode","data","Number","valueOf","isFinite","toString","Array","isArray","decode","json","parseFloat","isNaN","Service","app_","region_","serializer","emulatorOrigin","contextProvider","get","_url","name","projectId","options","region","useFunctionsEmulator","origin","httpsCallable","postJSON","url","body","headers","response","append","fetch","method","JSON","stringify","status","context","timeout","error","responseData","Headers","Promise","race","millis","_","reject","setTimeout","bodyJSON","codeForHTTPStatus","description","errorJSON","status_1","_errorForResponse","FUNCTIONS_TYPE","factory","unused","registerFunctions","instance","namespaceExports","Functions","registerService","TutorQButtons","getPageNumber","prevStep","nextStep","totalPages","react_default","margin","marginTop","textAlign","zIndex","lib","fluid","reactstrap_es","disabled","backgroundColor","TutorQDropdown","change","initText","slicedToArray","dropdownOpen","setDropdownOpen","isOpen","toggle","caret","onChange","console","log","removeUserFromQueue","functions","TutorQStudent","props","classCallCheck","possibleConstructorReturn","getPrototypeOf","removeMeFromQueue","setState","removeButtonLoading","id","then","r","page","success","renderAnnouncements","announcementsObj","announcementsSeen","cookies","parse","announcements","objectSpread","currDateTime","Date","now","timestamp","alert","set","componentDidMount","idToQueueInfoRef","database","on","snap","queueKey","val","userInQueueKey","announcementRef","queueRef","queue","queueArr","sort","b","userInQueue","indexOf","state","inQueue","queueLength","positionInQueue","sentToFirebase","componentWillUnmount","off","_this$setState","classNumber","checkValidityBeforeSendingToFirebase","location","setValid","valid","sendDataToFirebase","_this$state","problemCategory","problemDescription","ServerValue","TIMESTAMP","setError","classes","topics","201","330","340","_this$state2","Fragment","fontWeight","fontSize","Link","to","Fade_default","placeholder","TutorQDropdown_TutorQDropdown","test","TutorQButtons_TutorQButtons","Component"],"mappings":"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","file":"static/js/11.194c5a73.chunk.js","sourcesContent":["export default function _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}","import defineProperty from \"./defineProperty\";\nexport default function _objectSpread(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n    var ownKeys = Object.keys(source);\n\n    if (typeof Object.getOwnPropertySymbols === 'function') {\n      ownKeys = ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function (sym) {\n        return Object.getOwnPropertyDescriptor(source, sym).enumerable;\n      }));\n    }\n\n    ownKeys.forEach(function (key) {\n      defineProperty(target, key, source[key]);\n    });\n  }\n\n  return target;\n}","import React, { useState, useEffect, useRef } from 'react';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport { faCircle } from '@fortawesome/free-regular-svg-icons';\r\nimport TELabMap from './Assets/TELabMap.png'\r\n\r\nexport default function StudentLocation({ locations, setLocation, student }) {\r\n    const [imgData, setImgData] = useState({ x: 0, y: 0, width: 0, height: 0, parentNodeOffsetLeft: 0, parentNodeOffsetTop: 0 });\r\n    const imgRef = useRef(null);\r\n    const imgWrapRef = useRef(null);\r\n\r\n    // Effect is used as a replacement for the constructor/componentWillUnmount in this case.\r\n    // I want an event listener to listen for window resizes so I can modify where the circle is\r\n    // But this ran when the component wasn't loaded, causing performance issues.\r\n    // The callback function removes all the listeners.\r\n    useEffect(() => {\r\n        let resize = () => {\r\n            if (imgRef.current) {\r\n                let { offsetLeft, offsetTop, width, height, parentNode } = imgRef.current;\r\n                let parentNodeOffsetLeft = parentNode.offsetLeft;\r\n                let parentNodeOffsetTop = parentNode.offsetTop;\r\n                setImgData({ x: offsetLeft, y: offsetTop, width, height, parentNodeOffsetLeft, parentNodeOffsetTop });\r\n            }\r\n        }\r\n        if ((imgRef.current && imgData.x === 0 && imgData.y === 0) || (imgData.width === 0 || imgData.height === 0) ||\r\n            (imgData.parentNodeOffsetLeft === 0 || imgData.parentNodeOffsetTop === 0)) {\r\n            let { offsetLeft, offsetTop, width, height, parentNode } = imgRef.current;\r\n            let parentNodeOffsetLeft = parentNode.offsetLeft;\r\n            let parentNodeOffsetTop = parentNode.offsetTop;\r\n            setImgData({ x: offsetLeft, y: offsetTop, width, height, parentNodeOffsetLeft, parentNodeOffsetTop });\r\n        }\r\n        window.addEventListener('resize', resize);\r\n        return () => {\r\n            window.removeEventListener('resize', resize);\r\n        }\r\n    });\r\n    // console.log(imgData);\r\n    // console.log(imgData.x + (locations[0] ? locations[0].xPercentage * imgData.width : 0), imgData.y + (locations[0] ? locations[0].yPercentage * imgData.height : 0))\r\n    return <div ref={imgWrapRef} style={{ position: 'relative', height: '60%' }}>\r\n        <img alt={\"TE Lab Map. Please see one of the tutors if you need any accessibility accommodations and tutoring.\"} ref={imgRef} src={TELabMap} style={{ maxHeight: '50vh', maxWidth: '90vw', cursor: 'pointer' }} onClick={(e) => {\r\n            if (student && setLocation) {\r\n                const { offsetLeft, offsetTop, width, height } = e.target\r\n                const parentNodeOffsetLeft = e.target.parentNode.offsetLeft;\r\n                const parentNodeOffsetTop = e.target.parentNode.offsetTop;\r\n                // console.log(parentNodeOffsetLeft, parentNodeOffsetTop)\r\n                const locationObj = {\r\n                    xPercentage: (e.pageX - offsetLeft - parentNodeOffsetLeft) / width,\r\n                    yPercentage: (e.pageY - offsetTop - parentNodeOffsetTop) / height\r\n                };\r\n                setImgData({ x: offsetLeft, y: offsetTop, width, height, parentNodeOffsetLeft, parentNodeOffsetTop });\r\n                setLocation(locationObj);\r\n            }\r\n        }} />\r\n        {locations && locations.map((d, i) => <div key={'loc-' + i} style={{\r\n            position: 'absolute',\r\n            left: imgData.x + (d ? d.xPercentage * imgData.width : 0),\r\n            top: imgData.y + (d ? d.yPercentage * imgData.height : 0),\r\n            transform: 'translate(-50%, -50%)',\r\n            display: d ? '' : 'none'\r\n        }}><FontAwesomeIcon icon={faCircle} size={'2x'} style={{ color: 'red' }} /></div>)}\r\n    </div>\r\n}","module.exports = __webpack_public_path__ + \"static/media/TELabMap.a1bfce1d.png\";","import '@firebase/functions';\n/**\r\n * @license\r\n * Copyright 2017 Google Inc.\r\n *\r\n * Licensed under the Apache License, Version 2.0 (the \"License\");\r\n * you may not use this file except in compliance with the License.\r\n * You may obtain a copy of the License at\r\n *\r\n *   http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing, software\r\n * distributed under the License is distributed on an \"AS IS\" BASIS,\r\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n * See the License for the specific language governing permissions and\r\n * limitations under the License.\r\n */","'use strict';\n\nObject.defineProperty(exports, '__esModule', {\n  value: true\n});\n\nfunction _interopDefault(ex) {\n  return ex && typeof ex === 'object' && 'default' in ex ? ex['default'] : ex;\n}\n\nvar firebase = _interopDefault(require('@firebase/app'));\n\nvar tslib_1 = require('tslib');\n/**\r\n * @license\r\n * Copyright 2017 Google Inc.\r\n *\r\n * Licensed under the Apache License, Version 2.0 (the \"License\");\r\n * you may not use this file except in compliance with the License.\r\n * You may obtain a copy of the License at\r\n *\r\n *   http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing, software\r\n * distributed under the License is distributed on an \"AS IS\" BASIS,\r\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n * See the License for the specific language governing permissions and\r\n * limitations under the License.\r\n */\n\n/**\r\n * Standard error codes for different ways a request can fail, as defined by:\r\n * https://github.com/googleapis/googleapis/blob/master/google/rpc/code.proto\r\n *\r\n * This map is used primarily to convert from a backend error code string to\r\n * a client SDK error code string, and make sure it's in the supported set.\r\n */\n\n\nvar errorCodeMap = {\n  OK: 'ok',\n  CANCELLED: 'cancelled',\n  UNKNOWN: 'unknown',\n  INVALID_ARGUMENT: 'invalid-argument',\n  DEADLINE_EXCEEDED: 'deadline-exceeded',\n  NOT_FOUND: 'not-found',\n  ALREADY_EXISTS: 'already-exists',\n  PERMISSION_DENIED: 'permission-denied',\n  UNAUTHENTICATED: 'unauthenticated',\n  RESOURCE_EXHAUSTED: 'resource-exhausted',\n  FAILED_PRECONDITION: 'failed-precondition',\n  ABORTED: 'aborted',\n  OUT_OF_RANGE: 'out-of-range',\n  UNIMPLEMENTED: 'unimplemented',\n  INTERNAL: 'internal',\n  UNAVAILABLE: 'unavailable',\n  DATA_LOSS: 'data-loss'\n};\n/**\r\n * An explicit error that can be thrown from a handler to send an error to the\r\n * client that called the function.\r\n */\n\nvar HttpsErrorImpl =\n/** @class */\nfunction (_super) {\n  tslib_1.__extends(HttpsErrorImpl, _super);\n\n  function HttpsErrorImpl(code, message, details) {\n    var _this = _super.call(this, message) || this; // This is a workaround for a bug in TypeScript when extending Error:\n    // tslint:disable-next-line\n    // https://github.com/Microsoft/TypeScript-wiki/blob/master/Breaking-Changes.md#extending-built-ins-like-error-array-and-map-may-no-longer-work\n\n\n    Object.setPrototypeOf(_this, HttpsErrorImpl.prototype);\n    _this.code = code;\n    _this.details = details;\n    return _this;\n  }\n\n  return HttpsErrorImpl;\n}(Error);\n/**\r\n * Takes an HTTP status code and returns the corresponding ErrorCode.\r\n * This is the standard HTTP status code -> error mapping defined in:\r\n * https://github.com/googleapis/googleapis/blob/master/google/rpc/code.proto\r\n *\r\n * @param status An HTTP status code.\r\n * @return The corresponding ErrorCode, or ErrorCode.UNKNOWN if none.\r\n */\n\n\nfunction codeForHTTPStatus(status) {\n  // Make sure any successful status is OK.\n  if (status >= 200 && status < 300) {\n    return 'ok';\n  }\n\n  switch (status) {\n    case 0:\n      // This can happen if the server returns 500.\n      return 'internal';\n\n    case 400:\n      return 'invalid-argument';\n\n    case 401:\n      return 'unauthenticated';\n\n    case 403:\n      return 'permission-denied';\n\n    case 404:\n      return 'not-found';\n\n    case 409:\n      return 'aborted';\n\n    case 429:\n      return 'resource-exhausted';\n\n    case 499:\n      return 'cancelled';\n\n    case 500:\n      return 'internal';\n\n    case 501:\n      return 'unimplemented';\n\n    case 503:\n      return 'unavailable';\n\n    case 504:\n      return 'deadline-exceeded';\n  }\n\n  return 'unknown';\n}\n/**\r\n * Takes an HTTP response and returns the corresponding Error, if any.\r\n */\n\n\nfunction _errorForResponse(status, bodyJSON, serializer) {\n  var code = codeForHTTPStatus(status); // Start with reasonable defaults from the status code.\n\n  var description = code;\n  var details = undefined; // Then look through the body for explicit details.\n\n  try {\n    var errorJSON = bodyJSON.error;\n\n    if (errorJSON) {\n      var status_1 = errorJSON.status;\n\n      if (typeof status_1 === 'string') {\n        if (!errorCodeMap[status_1]) {\n          // They must've included an unknown error code in the body.\n          return new HttpsErrorImpl('internal', 'internal');\n        }\n\n        code = errorCodeMap[status_1];\n      } // TODO(klimt): Add better default descriptions for error enums.\n      // The default description needs to be updated for the new code.\n\n\n      description = status_1;\n      var message = errorJSON.message;\n\n      if (typeof message === 'string') {\n        description = message;\n      }\n\n      details = errorJSON.details;\n\n      if (details !== undefined) {\n        details = serializer.decode(details);\n      }\n    }\n  } catch (e) {// If we couldn't parse explicit error data, that's fine.\n  }\n\n  if (code === 'ok') {\n    // Technically, there's an edge case where a developer could explicitly\n    // return an error code of OK, and we will treat it as success, but that\n    // seems reasonable.\n    return null;\n  }\n\n  return new HttpsErrorImpl(code, description, details);\n}\n/**\r\n * Helper class to get metadata that should be included with a function call.\r\n */\n\n\nvar ContextProvider =\n/** @class */\nfunction () {\n  function ContextProvider(app) {\n    this.app = app;\n  }\n\n  ContextProvider.prototype.getAuthToken = function () {\n    return tslib_1.__awaiter(this, void 0, void 0, function () {\n      var token, e_1;\n      return tslib_1.__generator(this, function (_a) {\n        switch (_a.label) {\n          case 0:\n            _a.trys.push([0, 2,, 3]);\n\n            return [4\n            /*yield*/\n            , this.app.INTERNAL.getToken()];\n\n          case 1:\n            token = _a.sent();\n\n            if (!token) {\n              return [2\n              /*return*/\n              , undefined];\n            }\n\n            return [2\n            /*return*/\n            , token.accessToken];\n\n          case 2:\n            e_1 = _a.sent(); // If there's any error when trying to get the auth token, leave it off.\n\n            return [2\n            /*return*/\n            , undefined];\n\n          case 3:\n            return [2\n            /*return*/\n            ];\n        }\n      });\n    });\n  };\n\n  ContextProvider.prototype.getInstanceIdToken = function () {\n    return tslib_1.__awaiter(this, void 0, void 0, function () {\n      var messaging, token, e_2;\n      return tslib_1.__generator(this, function (_a) {\n        switch (_a.label) {\n          case 0:\n            _a.trys.push([0, 2,, 3]); // HACK: Until we have a separate instanceId package, this is a quick way\n            // to load in the messaging instance for this app.\n\n\n            if (!this.app.messaging) {\n              return [2\n              /*return*/\n              , undefined];\n            }\n\n            messaging = this.app.messaging();\n            return [4\n            /*yield*/\n            , messaging.getToken()];\n\n          case 1:\n            token = _a.sent();\n\n            if (!token) {\n              return [2\n              /*return*/\n              , undefined];\n            }\n\n            return [2\n            /*return*/\n            , token];\n\n          case 2:\n            e_2 = _a.sent(); // We don't warn on this, because it usually means messaging isn't set up.\n            // console.warn('Failed to retrieve instance id token.', e);\n            // If there's any error when trying to get the token, leave it off.\n\n            return [2\n            /*return*/\n            , undefined];\n\n          case 3:\n            return [2\n            /*return*/\n            ];\n        }\n      });\n    });\n  };\n\n  ContextProvider.prototype.getContext = function () {\n    return tslib_1.__awaiter(this, void 0, void 0, function () {\n      var authToken, instanceIdToken;\n      return tslib_1.__generator(this, function (_a) {\n        switch (_a.label) {\n          case 0:\n            return [4\n            /*yield*/\n            , this.getAuthToken()];\n\n          case 1:\n            authToken = _a.sent();\n            return [4\n            /*yield*/\n            , this.getInstanceIdToken()];\n\n          case 2:\n            instanceIdToken = _a.sent();\n            return [2\n            /*return*/\n            , {\n              authToken: authToken,\n              instanceIdToken: instanceIdToken\n            }];\n        }\n      });\n    });\n  };\n\n  return ContextProvider;\n}();\n/**\r\n * @license\r\n * Copyright 2017 Google Inc.\r\n *\r\n * Licensed under the Apache License, Version 2.0 (the \"License\");\r\n * you may not use this file except in compliance with the License.\r\n * You may obtain a copy of the License at\r\n *\r\n *   http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing, software\r\n * distributed under the License is distributed on an \"AS IS\" BASIS,\r\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n * See the License for the specific language governing permissions and\r\n * limitations under the License.\r\n */\n\n\nvar LONG_TYPE = 'type.googleapis.com/google.protobuf.Int64Value';\nvar UNSIGNED_LONG_TYPE = 'type.googleapis.com/google.protobuf.UInt64Value';\n\nfunction mapValues(o, f) {\n  var result = {};\n\n  for (var key in o) {\n    if (o.hasOwnProperty(key)) {\n      result[key] = f(o[key]);\n    }\n  }\n\n  return result;\n}\n\nvar Serializer =\n/** @class */\nfunction () {\n  function Serializer() {} // Takes data and encodes it in a JSON-friendly way, such that types such as\n  // Date are preserved.\n\n\n  Serializer.prototype.encode = function (data) {\n    var _this = this;\n\n    if (data === null || data === undefined) {\n      return null;\n    }\n\n    if (data instanceof Number) {\n      data = data.valueOf();\n    }\n\n    if (typeof data === 'number' && isFinite(data)) {\n      // Any number in JS is safe to put directly in JSON and parse as a double\n      // without any loss of precision.\n      return data;\n    }\n\n    if (data === true || data === false) {\n      return data;\n    }\n\n    if (Object.prototype.toString.call(data) === '[object String]') {\n      return data;\n    }\n\n    if (Array.isArray(data)) {\n      return data.map(function (x) {\n        return _this.encode(x);\n      });\n    }\n\n    if (typeof data === 'function' || typeof data === 'object') {\n      return mapValues(data, function (x) {\n        return _this.encode(x);\n      });\n    } // If we got this far, the data is not encodable.\n\n\n    throw new Error('Data cannot be encoded in JSON: ' + data);\n  }; // Takes data that's been encoded in a JSON-friendly form and returns a form\n  // with richer datatypes, such as Dates, etc.\n\n\n  Serializer.prototype.decode = function (json) {\n    var _this = this;\n\n    if (json === null) {\n      return json;\n    }\n\n    if (json['@type']) {\n      switch (json['@type']) {\n        case LONG_TYPE: // Fall through and handle this the same as unsigned.\n\n        case UNSIGNED_LONG_TYPE:\n          {\n            // Technically, this could work return a valid number for malformed\n            // data if there was a number followed by garbage. But it's just not\n            // worth all the extra code to detect that case.\n            var value = parseFloat(json.value);\n\n            if (isNaN(value)) {\n              throw new Error('Data cannot be decoded from JSON: ' + json);\n            }\n\n            return value;\n          }\n\n        default:\n          {\n            throw new Error('Data cannot be decoded from JSON: ' + json);\n          }\n      }\n    }\n\n    if (Array.isArray(json)) {\n      return json.map(function (x) {\n        return _this.decode(x);\n      });\n    }\n\n    if (typeof json === 'function' || typeof json === 'object') {\n      return mapValues(json, function (x) {\n        return _this.decode(x);\n      });\n    } // Anything else is safe to return.\n\n\n    return json;\n  };\n\n  return Serializer;\n}();\n/**\r\n * @license\r\n * Copyright 2017 Google Inc.\r\n *\r\n * Licensed under the Apache License, Version 2.0 (the \"License\");\r\n * you may not use this file except in compliance with the License.\r\n * You may obtain a copy of the License at\r\n *\r\n *   http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing, software\r\n * distributed under the License is distributed on an \"AS IS\" BASIS,\r\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n * See the License for the specific language governing permissions and\r\n * limitations under the License.\r\n */\n\n/**\r\n * Returns a Promise that will be rejected after the given duration.\r\n * The error will be of type HttpsErrorImpl.\r\n *\r\n * @param millis Number of milliseconds to wait before rejecting.\r\n */\n\n\nfunction failAfter(millis) {\n  return new Promise(function (_, reject) {\n    setTimeout(function () {\n      reject(new HttpsErrorImpl('deadline-exceeded', 'deadline-exceeded'));\n    }, millis);\n  });\n}\n/**\r\n * The main class for the Firebase Functions SDK.\r\n */\n\n\nvar Service =\n/** @class */\nfunction () {\n  /**\r\n   * Creates a new Functions service for the given app and (optional) region.\r\n   * @param app_ The FirebaseApp to use.\r\n   * @param region_ The region to call functions in.\r\n   */\n  function Service(app_, region_) {\n    if (region_ === void 0) {\n      region_ = 'us-central1';\n    }\n\n    this.app_ = app_;\n    this.region_ = region_;\n    this.serializer = new Serializer();\n    this.emulatorOrigin = null;\n    this.contextProvider = new ContextProvider(app_);\n  }\n\n  Object.defineProperty(Service.prototype, \"app\", {\n    get: function get() {\n      return this.app_;\n    },\n    enumerable: true,\n    configurable: true\n  });\n  /**\r\n   * Returns the URL for a callable with the given name.\r\n   * @param name The name of the callable.\r\n   */\n\n  Service.prototype._url = function (name) {\n    var projectId = this.app_.options.projectId;\n    var region = this.region_;\n\n    if (this.emulatorOrigin !== null) {\n      var origin_1 = this.emulatorOrigin;\n      return origin_1 + \"/\" + projectId + \"/\" + region + \"/\" + name;\n    }\n\n    return \"https://\" + region + \"-\" + projectId + \".cloudfunctions.net/\" + name;\n  };\n  /**\r\n   * Changes this instance to point to a Cloud Functions emulator running\r\n   * locally. See https://firebase.google.com/docs/functions/local-emulator\r\n   *\r\n   * @param origin The origin of the local emulator, such as\r\n   * \"http://localhost:5005\".\r\n   */\n\n\n  Service.prototype.useFunctionsEmulator = function (origin) {\n    this.emulatorOrigin = origin;\n  };\n  /**\r\n   * Returns a reference to the callable https trigger with the given name.\r\n   * @param name The name of the trigger.\r\n   */\n\n\n  Service.prototype.httpsCallable = function (name, options) {\n    var _this = this;\n\n    var callable = function callable(data) {\n      return _this.call(name, data, options || {});\n    };\n\n    return callable;\n  };\n  /**\r\n   * Does an HTTP POST and returns the completed response.\r\n   * @param url The url to post to.\r\n   * @param body The JSON body of the post.\r\n   * @param headers The HTTP headers to include in the request.\r\n   * @return A Promise that will succeed when the request finishes.\r\n   */\n\n\n  Service.prototype.postJSON = function (url, body, headers) {\n    return tslib_1.__awaiter(this, void 0, void 0, function () {\n      var response, e_1, json, e_2;\n      return tslib_1.__generator(this, function (_a) {\n        switch (_a.label) {\n          case 0:\n            headers.append('Content-Type', 'application/json');\n            _a.label = 1;\n\n          case 1:\n            _a.trys.push([1, 3,, 4]);\n\n            return [4\n            /*yield*/\n            , fetch(url, {\n              method: 'POST',\n              body: JSON.stringify(body),\n              headers: headers\n            })];\n\n          case 2:\n            response = _a.sent();\n            return [3\n            /*break*/\n            , 4];\n\n          case 3:\n            e_1 = _a.sent(); // This could be an unhandled error on the backend, or it could be a\n            // network error. There's no way to know, since an unhandled error on the\n            // backend will fail to set the proper CORS header, and thus will be\n            // treated as a network error by fetch.\n\n            return [2\n            /*return*/\n            , {\n              status: 0,\n              json: null\n            }];\n\n          case 4:\n            json = null;\n            _a.label = 5;\n\n          case 5:\n            _a.trys.push([5, 7,, 8]);\n\n            return [4\n            /*yield*/\n            , response.json()];\n\n          case 6:\n            json = _a.sent();\n            return [3\n            /*break*/\n            , 8];\n\n          case 7:\n            e_2 = _a.sent();\n            return [3\n            /*break*/\n            , 8];\n\n          case 8:\n            return [2\n            /*return*/\n            , {\n              status: response.status,\n              json: json\n            }];\n        }\n      });\n    });\n  };\n  /**\r\n   * Calls a callable function asynchronously and returns the result.\r\n   * @param name The name of the callable trigger.\r\n   * @param data The data to pass as params to the function.s\r\n   */\n\n\n  Service.prototype.call = function (name, data, options) {\n    return tslib_1.__awaiter(this, void 0, void 0, function () {\n      var url, body, headers, context, timeout, response, error, responseData, decodedData;\n      return tslib_1.__generator(this, function (_a) {\n        switch (_a.label) {\n          case 0:\n            url = this._url(name); // Encode any special types, such as dates, in the input data.\n\n            data = this.serializer.encode(data);\n            body = {\n              data: data\n            };\n            headers = new Headers();\n            return [4\n            /*yield*/\n            , this.contextProvider.getContext()];\n\n          case 1:\n            context = _a.sent();\n\n            if (context.authToken) {\n              headers.append('Authorization', 'Bearer ' + context.authToken);\n            }\n\n            if (context.instanceIdToken) {\n              headers.append('Firebase-Instance-ID-Token', context.instanceIdToken);\n            }\n\n            timeout = options.timeout || 70000;\n            return [4\n            /*yield*/\n            , Promise.race([this.postJSON(url, body, headers), failAfter(timeout)])];\n\n          case 2:\n            response = _a.sent();\n            error = _errorForResponse(response.status, response.json, this.serializer);\n\n            if (error) {\n              throw error;\n            }\n\n            if (!response.json) {\n              throw new HttpsErrorImpl('internal', 'Response is not valid JSON object.');\n            }\n\n            responseData = response.json.data; // TODO(klimt): For right now, allow \"result\" instead of \"data\", for\n            // backwards compatibility.\n\n            if (typeof responseData === 'undefined') {\n              responseData = response.json.result;\n            }\n\n            if (typeof responseData === 'undefined') {\n              // Consider the response malformed.\n              throw new HttpsErrorImpl('internal', 'Response is missing data field.');\n            }\n\n            decodedData = this.serializer.decode(responseData);\n            return [2\n            /*return*/\n            , {\n              data: decodedData\n            }];\n        }\n      });\n    });\n  };\n\n  return Service;\n}();\n/**\r\n * @license\r\n * Copyright 2017 Google Inc.\r\n *\r\n * Licensed under the Apache License, Version 2.0 (the \"License\");\r\n * you may not use this file except in compliance with the License.\r\n * You may obtain a copy of the License at\r\n *\r\n *   http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing, software\r\n * distributed under the License is distributed on an \"AS IS\" BASIS,\r\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n * See the License for the specific language governing permissions and\r\n * limitations under the License.\r\n */\n\n/**\r\n * Type constant for Firebase Functions.\r\n */\n\n\nvar FUNCTIONS_TYPE = 'functions';\n\nfunction factory(app, unused, region) {\n  return new Service(app, region);\n}\n\nfunction registerFunctions(instance) {\n  var namespaceExports = {\n    // no-inline\n    Functions: Service\n  };\n  instance.INTERNAL.registerService(FUNCTIONS_TYPE, factory, namespaceExports, // We don't need to wait on any AppHooks.\n  undefined, // Allow multiple functions instances per app.\n  true);\n}\n\nregisterFunctions(firebase);\nexports.registerFunctions = registerFunctions;","import React from 'react';\r\nimport { Grid, Row, Col } from 'react-flexbox-grid';\r\nimport { Button } from 'reactstrap';\r\nimport './TutorQButtons.css';\r\n\r\nexport default function TutorQButtons({ getPageNumber, prevStep, nextStep, totalPages }) {\r\n    return <div style={{\r\n        // position: 'absolute', left: 0, bottom: 30, \r\n        width: '100%',\r\n        margin: 'auto',\r\n        marginTop: 40,\r\n        textAlign: 'center',\r\n        zIndex: -5\r\n    }}>\r\n        <Grid fluid>\r\n            <Row>\r\n                <Col style={{ width: '50%' }}>\r\n                    <Button\r\n                        disabled={getPageNumber() < 1}\r\n                        style={{ backgroundColor: '#005696' }}\r\n                        onClick={prevStep}>{'< Back'}</Button>\r\n                </Col>\r\n                <Col style={{ width: '50%' }}>\r\n                    <Button\r\n                        disabled={getPageNumber() > totalPages - 2}\r\n                        style={{ backgroundColor: '#005696' }}\r\n                        onClick={nextStep}>{'Next >'}\r\n                    </Button>\r\n                </Col>\r\n            </Row>\r\n        </Grid>\r\n    </div>\r\n}","import React, { useState } from 'react';\r\nimport { Dropdown, DropdownToggle, DropdownMenu, DropdownItem } from 'reactstrap';\r\nimport './TutorQDropdown.css';\r\n\r\nexport default function TutorQDropdown({ name, data, change, initText, value }) { //\r\n    const [dropdownOpen, setDropdownOpen] = useState(false);\r\n    let asdf = () => {\r\n        console.log('asdf')\r\n    }\r\n    return <Dropdown name={name}\r\n        isOpen={dropdownOpen}\r\n        toggle={() => { setDropdownOpen(!dropdownOpen) }}>\r\n        <DropdownToggle caret\r\n            style={{ zIndex: 500, backgroundColor: '#005696' }}>\r\n            {value ? value : initText}\r\n        </DropdownToggle>\r\n        <DropdownMenu onChange={asdf} style={{ zIndex: 500 }}>\r\n            {data.map(d => <DropdownItem key={d}\r\n                onClick={() => change({ target: { name, value: d } })}\r\n                style={{ cursor: 'pointer' }}>\r\n                {d}\r\n            </DropdownItem>)}\r\n        </DropdownMenu>\r\n    </Dropdown>\r\n}","import React, { Component } from 'react';\r\nimport cookies from 'browser-cookies';\r\nimport TutorQButtons from './Components/TutorQButtons/TutorQButtons';\r\nimport TutorQDropdown from './Components/TutorQDropdown/TutorQDropdown';\r\nimport Fade from 'react-reveal/Fade';\r\nimport StudentLocation from '../Components/StudentLocation/StudentLocation';\r\nimport firebase from 'firebase/app';\r\nimport 'firebase/database';\r\nimport 'firebase/functions';\r\nimport { Input, Button, Alert } from 'reactstrap';\r\nimport './TutorQStudent.css';\r\nimport { Link } from 'react-router-dom'\r\n\r\nconst removeUserFromQueue = firebase.functions().httpsCallable('removeUserFromQueue');\r\n\r\nexport default class TutorQStudent extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            page: 0,\r\n            name: cookies.get('tutorqname') || '',\r\n            classNumber: cookies.get('tutorqclassnumber') ? Number(cookies.get('tutorqclassnumber')) : null,\r\n            problemCategory: null,\r\n            problemDescription: '',\r\n            location: null,\r\n            error: '',\r\n            valid: false,\r\n            queueLength: 0,\r\n            positionInQueue: -1,\r\n            inQueue: false,\r\n            userInQueueKey: '',\r\n            sentToFirebase: false\r\n        }\r\n\r\n        this.totalPages = 5;\r\n        this.classes = [201, 330, 340];\r\n        this.topics = {\r\n            201: ['Setup', 'Markdown', 'Git/web servers', 'R', 'dplyr', 'Web APIs', 'R Markdown', 'ggplot2', 'R Shiny', 'Other'],\r\n            330: ['ERDs and MetaData', 'Create table', 'Constraints', 'Inserting data', 'Views, Functions, Stored procedures', 'Permissions', 'Testing', 'Other'],\r\n            340: ['Setup', 'HTML', 'CSS Fundamentals', 'CSS Selectors', 'CSS Layouting', 'Responsive CSS', 'CSS Frameworks', 'Basic JavaScript', 'jQuery', 'DOM', 'AJAX/Fetch', 'React', 'Routing', 'Firebase', 'Testing', 'Other']\r\n        }\r\n\r\n        this.id = cookies.get('id');\r\n        // firebase.database().ref('/blogPageView').push({\r\n        //     timestamp: firebase.database.ServerValue.TIMESTAMP,\r\n        //     id,\r\n        //     post: this.props.post\r\n        // });\r\n    }\r\n\r\n    removeMeFromQueue = () => {\r\n        this.setState({ removeButtonLoading: true });\r\n        removeUserFromQueue({ id: this.id }).then((r) => {\r\n            this.setState({ removeButtonLoading: false, page: 0 });\r\n            if (!r.data.success) {\r\n                console.log(r.data);\r\n                this.setState({ error: r.data.error });\r\n            }\r\n        });\r\n    }\r\n\r\n    // {\r\n    //      id: 123,\r\n    //      body: \"abc123\"\r\n    // }\r\n\r\n    renderAnnouncements = (announcementsObj) => {\r\n        // if (cookies.get(\"\"))\r\n        let announcementsSeen = cookies.get(\"tutorqannouncementsseen\") ?\r\n            JSON.parse(cookies.get(\"tutorqannouncementsseen\")) : []\r\n        let announcements = { ...announcementsObj };\r\n        announcementsSeen.forEach(d => {\r\n            delete announcements[d];\r\n        })\r\n        let currDateTime = Date.now();\r\n        Object.keys(announcements).forEach(d => {\r\n            if ((currDateTime - announcements[d].timestamp) < (24 * 60 * 60 * 1000)) {\r\n                alert(announcements[d].body);\r\n            }\r\n            announcementsSeen.push(d);\r\n        });\r\n        cookies.set(\"tutorqannouncementsseen\", JSON.stringify(announcementsSeen));\r\n\r\n    }\r\n\r\n    componentDidMount = () => {\r\n        this.idToQueueInfoRef = firebase.database().ref(`/tutorq/idToQueueInfo/${this.id}`);\r\n        this.idToQueueInfoRef.on('value', (snap) => {\r\n            let val = snap.val() || {};\r\n            let { queueKey } = val;\r\n            this.setState({ userInQueueKey: queueKey });\r\n        })\r\n\r\n        this.announcementRef = firebase.database().ref(`/tutorq/announcements`);\r\n        this.announcementRef.on('value', (snap) => {\r\n\r\n            let announcements = snap.val() || {};\r\n            let announcementsObj = {};\r\n            Object.keys(announcements).forEach(d => {\r\n                //  { [announcements[d].id]: announcements[d] } \r\n                announcementsObj[announcements[d].id] = announcements[d]\r\n            });\r\n            this.renderAnnouncements(announcementsObj)\r\n        })\r\n\r\n        this.queueRef = firebase.database().ref('/tutorq/inqueue')\r\n\r\n        this.queueRef.on('value', (snap) => {\r\n            let queue = snap.val() || {};\r\n            let queueArr = Object.keys(queue).sort((a, b) => {\r\n                return queue[a].timestamp - queue[b].timestamp;\r\n            });\r\n            let userInQueue = queueArr.indexOf(this.state.userInQueueKey);\r\n            if (userInQueue > -1) {\r\n                this.setState({\r\n                    inQueue: true,\r\n                    queueLength: queueArr.length,\r\n                    positionInQueue: userInQueue + 1,\r\n                    sentToFirebase: false,\r\n                });\r\n            } else {\r\n                this.setState({\r\n                    inQueue: false,\r\n                    queueLength: queueArr.length,\r\n                    positionInQueue: -1\r\n                })\r\n            }\r\n        });\r\n    }\r\n\r\n    componentWillUnmount = () => {\r\n        this.queueRef.off();\r\n        this.idToQueueInfoRef.off();\r\n        this.announcementRef.off();\r\n    }\r\n\r\n    change = (e) => {\r\n        let { name, value } = e.target;\r\n        if (name === \"classNumber\" && value !== this.state.classNumber) {\r\n            this.setState({\r\n                [name]: value,\r\n                problemCategory: null,\r\n                problemDescription: ''\r\n            });\r\n        } else {\r\n            this.setState({ [name]: value });\r\n        }\r\n    }\r\n\r\n    getPageNumber = () => {\r\n        return this.state.page;\r\n    }\r\n\r\n    nextStep = () => {\r\n        let page = this.state.page + 1;\r\n        if (page > this.totalPages - 1) {\r\n            page = this.totalPages;\r\n        }\r\n        this.setState({ page });\r\n        if (page === this.totalPages - 1) {\r\n            this.checkValidityBeforeSendingToFirebase();\r\n        }\r\n    }\r\n\r\n    prevStep = () => {\r\n        let page = this.state.page - 1;\r\n        if (page < 0) {\r\n            page = 0;\r\n        }\r\n        this.setState({ page });\r\n    }\r\n\r\n    setError(error) {\r\n        this.setState({ error });\r\n    }\r\n\r\n    /**\r\n     * @param {object} location has fields {xPercentage, yPercentage}\r\n     */\r\n    setLocation = (location) => {\r\n        this.setState({ location });\r\n    }\r\n\r\n    setValid = (valid) => {\r\n        this.setState({ valid });\r\n    }\r\n\r\n    checkValidityBeforeSendingToFirebase() {\r\n        if (this.state.name === '') {\r\n            this.setError(\"Please provide a valid name\");\r\n            this.setValid(false);\r\n            return false;\r\n        }\r\n\r\n        if (this.state.classNumber === null) {\r\n            this.setError(\"Invalid class number provided\");\r\n            this.setValid(false);\r\n            return false;\r\n        }\r\n\r\n        if (this.state.problemCategory === null) {\r\n            this.setError(\"Please choose a problem category\");\r\n            this.setValid(false);\r\n            return false;\r\n        }\r\n\r\n        if (this.state.problemDescription === '') {\r\n            this.setError(\"Please provide a description of the problem\");\r\n            this.setValid(false);\r\n            return false;\r\n        }\r\n\r\n        if (this.state.location === null) {\r\n            this.setError(\"Please provide your location in the TE lab\");\r\n            this.setValid(false);\r\n            return false;\r\n        }\r\n        this.setError('');\r\n        this.setValid(true);\r\n        // this.setState({ page: 0 });\r\n        return true;\r\n    }\r\n\r\n    sendDataToFirebase = () => {\r\n        if (this.checkValidityBeforeSendingToFirebase()) {\r\n            let { name, classNumber, problemCategory, problemDescription, location } = this.state;\r\n            // console.log(classNumber);\r\n            cookies.set('tutorqname', name);\r\n            cookies.set('tutorqclassnumber', classNumber.toString());\r\n            let queueKey = this.queueRef.push({\r\n                classNumber,\r\n                problemCategory,\r\n                problemDescription,\r\n                location,\r\n                timestamp: firebase.database.ServerValue.TIMESTAMP,\r\n            }, (e) => {\r\n                if (e) {\r\n                    this.setError(e.message);\r\n                }\r\n            }).key;\r\n\r\n            if (queueKey) {\r\n                firebase.database().ref(`/tutorq/idToQueueInfo/${this.id}`).set({ name, queueKey });\r\n            }\r\n        }\r\n\r\n        // TODO: set a loading spinner!\r\n    }\r\n\r\n    render() {\r\n        let { name,\r\n            classNumber,\r\n            page,\r\n            problemCategory,\r\n            problemDescription,\r\n            location,\r\n            error,\r\n            valid,\r\n            positionInQueue,\r\n            queueLength } = this.state;\r\n        let locations = [];\r\n        locations.push(location);\r\n        return <>\r\n            <h1 style={{ margin: 'auto', textAlign: 'center' }}>TutorQ</h1>\r\n\r\n\r\n            {this.state.inQueue && <>\r\n                <div style={{ marginTop: '10vh', textAlign: 'center' }}>\r\n                    <h3 style={{ fontWeight: 'bold' }}>You are currently in queue at position: <span style={{ color: 'green', fontWeight: 'bold' }}>\r\n                        {positionInQueue}/{queueLength}\r\n                    </span>\r\n                    </h3>\r\n                    <div style={{ fontSize: '150%' }}>\r\n                        <p>Please be patient, a tutor will assist you shortly.</p>\r\n                        <p>In the meantime, please check out the <Link to=\"/blog/infotutor-home\">Tutor Hub</Link>. Don't worry, your place in line will be saved!</p>\r\n                        <p>If you would like to remove yourself from the queue, please click the button below:\r\n                        </p>\r\n                        <Button style={{ backgroundColor: '#005696' }}\r\n                            onClick={this.removeMeFromQueue}\r\n                            disabled={this.state.removeButtonLoading}\r\n                        >Remove me from queue</Button>\r\n                    </div>\r\n                </div>\r\n            </>}\r\n\r\n            {!this.state.inQueue &&\r\n                <>\r\n                    <div style={{ textAlign: 'center' }}>Page {page + 1}/{this.totalPages}</div>\r\n                    <div style={{ marginTop: '10vh', textAlign: 'center' }}>\r\n                        {page === 0 && <Fade>\r\n                            <>\r\n                                <h3>Welcome to TutorQ!</h3>\r\n                                <p>This is an application used for the INFO tutor. Please have cookies enabled or the application will not function properly.\r\n                                    Your data will be collected. See how it is being used <Link to=\"/blog/tutordata\">here</Link>.</p>\r\n                                <h3>Please enter your name</h3>\r\n                                <Input placeholder={'Name'}\r\n                                    name={'name'}\r\n                                    onChange={this.change}\r\n                                    value={name}\r\n                                    style={{ maxWidth: 500, margin: 'auto', marginTop: 10 }} />\r\n                            </>\r\n                        </Fade>}\r\n                        {page === 1 && <Fade>\r\n                            <>\r\n                                <h3>Please select your class</h3>\r\n                                <TutorQDropdown change={this.change}\r\n                                    name={\"classNumber\"}\r\n                                    data={this.classes}\r\n                                    initText={\"Choose a class\"}\r\n                                    value={classNumber} />\r\n                            </>\r\n                        </Fade>}\r\n                        {page === 2 && <Fade>\r\n                            {classNumber\r\n                                ?\r\n                                <>\r\n                                    <h3>Please select a topic</h3>\r\n                                    <TutorQDropdown change={this.change}\r\n                                        name={\"problemCategory\"}\r\n                                        data={this.topics[classNumber]}\r\n                                        initText={\"Choose a topic\"}\r\n                                        value={problemCategory} />\r\n                                    <h3 style={{ marginTop: 15 }}>Please describe your problem</h3>\r\n                                    <Input placeholder={'Problem'}\r\n                                        name={'problemDescription'}\r\n                                        onChange={this.change}\r\n                                        value={problemDescription}\r\n                                        style={{ maxWidth: 500, margin: 'auto', marginTop: 30 }} />\r\n                                </>\r\n                                :\r\n                                <h3>Please select a class on the previous page</h3>}\r\n                        </Fade>}\r\n                        {page === 3 &&\r\n                            <>\r\n                                <h3>Where in the TE Lab are you sitting?</h3>\r\n                                <div>\r\n                                    <StudentLocation student setLocation={this.setLocation} locations={locations} test=\"123\" />\r\n                                </div>\r\n                            </>}\r\n                        {page === 4 && <Fade>\r\n                            <>\r\n                                <h3>Submit</h3>\r\n\r\n                                {error !== '' && <Alert color={\"danger\"}>{error}</Alert>}\r\n\r\n                                <Button\r\n                                    style={{ backgroundColor: '#005696' }}\r\n                                    disabled={!valid}\r\n                                    onClick={this.sendDataToFirebase}\r\n                                >\r\n                                    Join the queue!\r\n                                </Button>\r\n\r\n                                <p style={{ marginTop: 15 }}>By clicking this button, you acknowledge that your data is collected. See how your data is being used <Link to=\"/blog/tutordata\">here</Link></p>\r\n\r\n                            </>\r\n                        </Fade>}\r\n                    </div>\r\n                    {/** Previous and next button */}\r\n                    <TutorQButtons getPageNumber={this.getPageNumber}\r\n                        prevStep={this.prevStep}\r\n                        nextStep={this.nextStep}\r\n                        totalPages={this.totalPages} />\r\n                </>}\r\n        </>\r\n    }\r\n}\r\n\r\n        // tutorq\r\n        //     inprogress\r\n        //     helped\r\n//     inqueue // remove from queue when in progress"],"sourceRoot":""}