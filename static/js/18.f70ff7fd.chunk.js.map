{"version":3,"sources":["components/Pages/TutorQ/Components/StudentLocation/StudentLocation.js","components/Pages/TutorQ/Components/StudentLocation/Assets/TELabMap.png","components/Pages/TutorQ/Admin/Components/BackToHubButton.js","components/Pages/TutorQ/Admin/Components/SeatingDistribution/TutorQAdminSeatingDistribution.js"],"names":["StudentLocation","_ref","locations","setLocation","student","_useState","useState","x","y","width","height","parentNodeOffsetLeft","parentNodeOffsetTop","_useState2","Object","_Users_williamk_Desktop_Work_personalwebsite_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_0__","imgData","setImgData","imgRef","useRef","imgWrapRef","useEffect","resize","current","_imgRef$current","offsetLeft","offsetTop","parentNode","_imgRef$current2","window","addEventListener","removeEventListener","react__WEBPACK_IMPORTED_MODULE_1___default","a","createElement","ref","style","position","alt","src","TELabMap","maxHeight","maxWidth","cursor","onClick","e","_e$target","target","locationObj","xPercentage","pageX","yPercentage","pageY","map","d","i","key","left","top","transform","display","_fortawesome_react_fontawesome__WEBPACK_IMPORTED_MODULE_2__","icon","faCircle","size","color","module","exports","__webpack_require__","p","__webpack_exports__","BackToHubButton","react__WEBPACK_IMPORTED_MODULE_0__","react__WEBPACK_IMPORTED_MODULE_0___default","n","react_router_dom__WEBPACK_IMPORTED_MODULE_1__","marginBottom","className","textDecoration","backgroundColor","to","TutorQAdminSeatingDistribution","queueList","setQueueList","queueRef","firebase","database","on","snap","queueVal","val","off","keys","location","Fragment","_BackToHubButton__WEBPACK_IMPORTED_MODULE_5__","_Components_StudentLocation_StudentLocation__WEBPACK_IMPORTED_MODULE_2__"],"mappings":"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","file":"static/js/18.f70ff7fd.chunk.js","sourcesContent":["import React, { useState, useEffect, useRef } from 'react';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { faCircle } from '@fortawesome/free-regular-svg-icons';\nimport TELabMap from './Assets/TELabMap.png'\n\nexport default function StudentLocation({ locations, setLocation, student }) {\n    const [imgData, setImgData] = useState({ x: 0, y: 0, width: 0, height: 0, parentNodeOffsetLeft: 0, parentNodeOffsetTop: 0 });\n    const imgRef = useRef(null);\n    const imgWrapRef = useRef(null);\n\n    // Effect is used as a replacement for the constructor/componentWillUnmount in this case.\n    // I want an event listener to listen for window resizes so I can modify where the circle is\n    // But this ran when the component wasn't loaded, causing performance issues.\n    // The callback function removes all the listeners.\n    useEffect(() => {\n        let resize = () => {\n            if (imgRef.current) {\n                let { offsetLeft, offsetTop, width, height, parentNode } = imgRef.current;\n                let parentNodeOffsetLeft = parentNode.offsetLeft;\n                let parentNodeOffsetTop = parentNode.offsetTop;\n                setImgData({ x: offsetLeft, y: offsetTop, width, height, parentNodeOffsetLeft, parentNodeOffsetTop });\n            }\n        }\n        if ((imgRef.current && imgData.x === 0 && imgData.y === 0) || (imgData.width === 0 || imgData.height === 0) ||\n            (imgData.parentNodeOffsetLeft === 0 || imgData.parentNodeOffsetTop === 0)) {\n            let { offsetLeft, offsetTop, width, height, parentNode } = imgRef.current;\n            let parentNodeOffsetLeft = parentNode.offsetLeft;\n            let parentNodeOffsetTop = parentNode.offsetTop;\n            setImgData({ x: offsetLeft, y: offsetTop, width, height, parentNodeOffsetLeft, parentNodeOffsetTop });\n        }\n        window.addEventListener('resize', resize);\n        return () => {\n            window.removeEventListener('resize', resize);\n        }\n    });\n    // console.log(imgData);\n    // console.log(imgData.x + (locations[0] ? locations[0].xPercentage * imgData.width : 0), imgData.y + (locations[0] ? locations[0].yPercentage * imgData.height : 0))\n    return <div ref={imgWrapRef} style={{ position: 'relative', height: '60%' }}>\n        <img alt={\"TE Lab Map. Please see one of the tutors if you need any accessibility accommodations and tutoring.\"} ref={imgRef} src={TELabMap} style={{ maxHeight: '50vh', maxWidth: '90vw', cursor: 'pointer' }} onClick={(e) => {\n            if (student && setLocation) {\n                const { offsetLeft, offsetTop, width, height } = e.target\n                const parentNodeOffsetLeft = e.target.parentNode.offsetLeft;\n                const parentNodeOffsetTop = e.target.parentNode.offsetTop;\n                // console.log(parentNodeOffsetLeft, parentNodeOffsetTop)\n                const locationObj = {\n                    xPercentage: (e.pageX - offsetLeft - parentNodeOffsetLeft) / width,\n                    yPercentage: (e.pageY - offsetTop - parentNodeOffsetTop) / height\n                };\n                setImgData({ x: offsetLeft, y: offsetTop, width, height, parentNodeOffsetLeft, parentNodeOffsetTop });\n                setLocation(locationObj);\n            }\n        }} />\n        {locations && locations.map((d, i) => <div key={'loc-' + i} style={{\n            position: 'absolute',\n            left: imgData.x + (d ? d.xPercentage * imgData.width : 0),\n            top: imgData.y + (d ? d.yPercentage * imgData.height : 0),\n            transform: 'translate(-50%, -50%)',\n            display: d ? '' : 'none'\n        }}><FontAwesomeIcon icon={faCircle} size={'2x'} style={{ color: 'red' }} /></div>)}\n    </div>\n}","module.exports = __webpack_public_path__ + \"static/media/TELabMap.a1bfce1d.png\";","import React from 'react';\nimport { Link } from 'react-router-dom';\nexport default function BackToHubButton() {\n    return <div style={{ marginBottom: 10 }}>\n        <Link className=\"btn\" style={{ textDecoration: 'none', color: 'white', backgroundColor: \"#005696\" }} to={\"/tutorqadmin\"}>Back to admin hub</Link>\n    </div>;\n}","import React, { useState, useEffect } from 'react';\nimport StudentLocation from '../../../Components/StudentLocation/StudentLocation';\nimport firebase from 'firebase/app';\nimport 'firebase/database';\nimport BackToHubButton from '../BackToHubButton';\n\nexport default function TutorQAdminSeatingDistribution() {\n    const [queueList, setQueueList] = useState({});\n\n    useEffect(() => {\n        const queueRef = firebase.database().ref(`/tutorq/inqueue`);\n        queueRef.on('value', (snap) => {\n            let queueVal = snap.val() || {};\n            setQueueList(queueVal);\n        });\n\n        return () => {\n            queueRef.off();\n        }\n    }, []);\n\n    const locations = Object.keys(queueList).map(d => {\n        return queueList[d].location;\n    })\n    return <>\n        <BackToHubButton />\n        <StudentLocation locations={locations} student={false} />\n    </>\n}"],"sourceRoot":""}