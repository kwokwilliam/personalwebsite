{"version":3,"sources":["components/Pages/TutorQ/Components/StudentLocation/StudentLocation.js","components/Pages/TutorQ/Components/StudentLocation/Assets/TELabMap.png","components/Pages/TutorQ/Student/Components/TutorQButtons/TutorQButtons.js","components/Pages/TutorQ/Student/Components/TutorQDropdown/TutorQDropdown.js","components/Pages/TutorQ/Student/TutorQStudent.js"],"names":["StudentLocation","_ref","locations","setLocation","student","_useState","useState","x","y","width","height","parentNodeOffsetLeft","parentNodeOffsetTop","_useState2","Object","D_Files_JobRelated_personalwebsite_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_0__","imgData","setImgData","imgRef","useRef","imgWrapRef","useEffect","resize","current","_imgRef$current","offsetLeft","offsetTop","parentNode","_imgRef$current2","window","addEventListener","removeEventListener","react__WEBPACK_IMPORTED_MODULE_1___default","a","createElement","ref","style","position","alt","src","TELabMap","maxHeight","maxWidth","cursor","onClick","e","_e$target","target","locationObj","xPercentage","pageX","yPercentage","pageY","map","d","i","key","left","top","transform","display","_fortawesome_react_fontawesome__WEBPACK_IMPORTED_MODULE_2__","icon","faCircle","size","color","module","exports","__webpack_require__","p","TutorQButtons","getPageNumber","prevStep","nextStep","totalPages","react_default","bottom","margin","textAlign","zIndex","lib","fluid","reactstrap_es","disabled","backgroundColor","TutorQDropdown","name","data","change","initText","value","slicedToArray","dropdownOpen","setDropdownOpen","isOpen","toggle","caret","onChange","console","log","removeUserFromQueue","firebase","functions","httpsCallable","TutorQStudent","props","_this","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","removeMeFromQueue","setState","removeButtonLoading","id","then","r","page","success","error","componentDidMount","idToQueueInfoRef","database","concat","on","snap","queueKey","val","userInQueueKey","queueRef","queue","queueArr","keys","sort","b","timestamp","userInQueue","indexOf","state","inQueue","queueLength","length","positionInQueue","sentToFirebase","componentWillUnmount","off","_this$setState","classNumber","defineProperty","checkValidityBeforeSendingToFirebase","location","setValid","valid","sendDataToFirebase","_this$state","problemCategory","problemDescription","cookies","set","push","ServerValue","TIMESTAMP","setError","message","get","classes","topics","201","330","340","_this$state2","Fragment","marginTop","fontWeight","fontSize","Link","to","Fade_default","placeholder","TutorQDropdown_TutorQDropdown","test","TutorQButtons_TutorQButtons","Component"],"mappings":"4LAKe,SAASA,EAATC,GAA8D,IAAnCC,EAAmCD,EAAnCC,UAAWC,EAAwBF,EAAxBE,YAAaC,EAAWH,EAAXG,QAAWC,EAC3CC,mBAAS,CAAEC,EAAG,EAAGC,EAAG,EAAGC,MAAO,EAAGC,OAAQ,EAAGC,qBAAsB,EAAGC,oBAAqB,IAD/CC,EAAAC,OAAAC,EAAA,EAAAD,CAAAT,EAAA,GAClEW,EADkEH,EAAA,GACzDI,EADyDJ,EAAA,GAEnEK,EAASC,iBAAO,MAChBC,EAAaD,iBAAO,MA6B1B,OAvBAE,oBAAU,WACN,IAAIC,EAAS,WACT,GAAIJ,EAAOK,QAAS,KAAAC,EAC2CN,EAAOK,QAA5DE,EADUD,EACVC,WAAYC,EADFF,EACEE,UAAWjB,EADbe,EACaf,MAAOC,EADpBc,EACoBd,OAAQiB,EAD5BH,EAC4BG,WACxChB,EAAuBgB,EAAWF,WAClCb,EAAsBe,EAAWD,UACrCT,EAAW,CAAEV,EAAGkB,EAAYjB,EAAGkB,EAAWjB,QAAOC,SAAQC,uBAAsBC,0BAGvF,GAAKM,EAAOK,SAAyB,IAAdP,EAAQT,GAAyB,IAAdS,EAAQR,GAA+B,IAAlBQ,EAAQP,OAAkC,IAAnBO,EAAQN,QACxD,IAAjCM,EAAQL,sBAA8D,IAAhCK,EAAQJ,oBAA4B,KAAAgB,EAChBV,EAAOK,QAA5DE,EADqEG,EACrEH,WAAYC,EADyDE,EACzDF,UAAWjB,EAD8CmB,EAC9CnB,MAAOC,EADuCkB,EACvClB,OAAQiB,EAD+BC,EAC/BD,WACxChB,EAAuBgB,EAAWF,WAClCb,EAAsBe,EAAWD,UACrCT,EAAW,CAAEV,EAAGkB,EAAYjB,EAAGkB,EAAWjB,QAAOC,SAAQC,uBAAsBC,wBAGnF,OADAiB,OAAOC,iBAAiB,SAAUR,GAC3B,WACHO,OAAOE,oBAAoB,SAAUT,MAKtCU,EAAAC,EAAAC,cAAA,OAAKC,IAAKf,EAAYgB,MAAO,CAAEC,SAAU,WAAY3B,OAAQ,QAChEsB,EAAAC,EAAAC,cAAA,OAAKI,IAAK,sGAAuGH,IAAKjB,EAAQqB,IAAKC,IAAUJ,MAAO,CAAEK,UAAW,OAAQC,SAAU,OAAQC,OAAQ,WAAaC,QAAS,SAACC,GACtN,GAAIzC,GAAWD,EAAa,KAAA2C,EACyBD,EAAEE,OAA3CtB,EADgBqB,EAChBrB,WAAYC,EADIoB,EACJpB,UAAWjB,EADPqC,EACOrC,MAAOC,EADdoC,EACcpC,OAChCC,EAAuBkC,EAAEE,OAAOpB,WAAWF,WAC3Cb,EAAsBiC,EAAEE,OAAOpB,WAAWD,UAE1CsB,EAAc,CAChBC,aAAcJ,EAAEK,MAAQzB,EAAad,GAAwBF,EAC7D0C,aAAcN,EAAEO,MAAQ1B,EAAYd,GAAuBF,GAE/DO,EAAW,CAAEV,EAAGkB,EAAYjB,EAAGkB,EAAWjB,QAAOC,SAAQC,uBAAsBC,wBAC/ET,EAAY6C,OAGnB9C,GAAaA,EAAUmD,IAAI,SAACC,EAAGC,GAAJ,OAAUvB,EAAAC,EAAAC,cAAA,OAAKsB,IAAK,OAASD,EAAGnB,MAAO,CAC/DC,SAAU,WACVoB,KAAMzC,EAAQT,GAAK+C,EAAIA,EAAEL,YAAcjC,EAAQP,MAAQ,GACvDiD,IAAK1C,EAAQR,GAAK8C,EAAIA,EAAEH,YAAcnC,EAAQN,OAAS,GACvDiD,UAAW,wBACXC,QAASN,EAAI,GAAK,SACnBtB,EAAAC,EAAAC,cAAC2B,EAAA,EAAD,CAAiBC,KAAMC,IAAUC,KAAM,KAAM5B,MAAO,CAAE6B,MAAO,mCC1DxEC,EAAAC,QAAiBC,EAAAC,EAAuB,+PCKzB,SAASC,EAATrE,GAA0E,IAAjDsE,EAAiDtE,EAAjDsE,cAAeC,EAAkCvE,EAAlCuE,SAAUC,EAAwBxE,EAAxBwE,SAAUC,EAAczE,EAAdyE,WACvE,OAAOC,EAAA1C,EAAAC,cAAA,OAAKE,MAAO,CAAEC,SAAU,WAAYoB,KAAM,EAAGmB,OAAQ,GAAInE,MAAO,OAAQoE,OAAQ,OAAQC,UAAW,SAAUC,QAAS,IACzHJ,EAAA1C,EAAAC,cAAC8C,EAAA,KAAD,CAAMC,OAAK,GACPN,EAAA1C,EAAAC,cAAC8C,EAAA,IAAD,KACIL,EAAA1C,EAAAC,cAAC8C,EAAA,IAAD,CAAK5C,MAAO,CAAE3B,MAAO,QACjBkE,EAAA1C,EAAAC,cAACgD,EAAA,EAAD,CACIC,SAAUZ,IAAkB,EAC5BnC,MAAO,CAAEgD,gBAAiB,WAC1BxC,QAAS4B,GAAW,WAE5BG,EAAA1C,EAAAC,cAAC8C,EAAA,IAAD,CAAK5C,MAAO,CAAE3B,MAAO,QACjBkE,EAAA1C,EAAAC,cAACgD,EAAA,EAAD,CACIC,SAAUZ,IAAkBG,EAAa,EACzCtC,MAAO,CAAEgD,gBAAiB,WAC1BxC,QAAS6B,GAAW,kCCf7B,SAASY,EAATpF,GAAiE,IAAvCqF,EAAuCrF,EAAvCqF,KAAMC,EAAiCtF,EAAjCsF,KAAMC,EAA2BvF,EAA3BuF,OAAQC,EAAmBxF,EAAnBwF,SAAUC,EAASzF,EAATyF,MAASrF,EACpCC,oBAAS,GAD2BO,EAAAC,OAAA6E,EAAA,EAAA7E,CAAAT,EAAA,GACrEuF,EADqE/E,EAAA,GACvDgF,EADuDhF,EAAA,GAK5E,OAAO8D,EAAA1C,EAAAC,cAACgD,EAAA,EAAD,CAAUI,KAAMA,EACnBQ,OAAQF,EACRG,OAAQ,WAAQF,GAAiBD,KACjCjB,EAAA1C,EAAAC,cAACgD,EAAA,EAAD,CAAgBc,OAAK,EACjB5D,MAAO,CAAE2C,OAAQ,IAAKK,gBAAiB,YACtCM,GAAgBD,GAErBd,EAAA1C,EAAAC,cAACgD,EAAA,EAAD,CAAce,SAVP,WACPC,QAAQC,IAAI,SASkB/D,MAAO,CAAE2C,OAAQ,MAC1CQ,EAAKlC,IAAI,SAAAC,GAAC,OAAIqB,EAAA1C,EAAAC,cAACgD,EAAA,EAAD,CAAc1B,IAAKF,EAC9BV,QAAS,kBAAM4C,EAAO,CAAEzC,OAAQ,CAAEuC,OAAMI,MAAOpC,MAC/ClB,MAAO,CAAEO,OAAQ,YAChBW,4HCPjB,IAAM8C,EAAsBC,IAASC,YAAYC,cAAc,uBAE1CC,cACjB,SAAAA,EAAYC,GAAO,IAAAC,EAAA,OAAA5F,OAAA6F,EAAA,EAAA7F,CAAA8F,KAAAJ,IACfE,EAAA5F,OAAA+F,EAAA,EAAA/F,CAAA8F,KAAA9F,OAAAgG,EAAA,EAAAhG,CAAA0F,GAAAO,KAAAH,KAAMH,KAiCVO,kBAAoB,WAChBN,EAAKO,SAAS,CAAEC,qBAAqB,IACrCd,EAAoB,CAAEe,GAAIT,EAAKS,KAAMC,KAAK,SAACC,GACvCX,EAAKO,SAAS,CAAEC,qBAAqB,EAAOI,KAAM,IAC7CD,EAAE9B,KAAKgC,UACRrB,QAAQC,IAAIkB,EAAE9B,MACdmB,EAAKO,SAAS,CAAEO,MAAOH,EAAE9B,KAAKiC,YAxCvBd,EA6CnBe,kBAAoB,WAChBf,EAAKgB,iBAAmBrB,IAASsB,WAAWxF,IAApB,yBAAAyF,OAAiDlB,EAAKS,KAC9ET,EAAKgB,iBAAiBG,GAAG,QAAS,SAACC,GAC/B,IACMC,GADID,EAAKE,OAAS,IAClBD,SACNrB,EAAKO,SAAS,CAAEgB,eAAgBF,MAGpCrB,EAAKwB,SAAW7B,IAASsB,WAAWxF,IAAI,mBAExCuE,EAAKwB,SAASL,GAAG,QAAS,SAACC,GACvB,IAAIK,EAAQL,EAAKE,OAAS,GACtBI,EAAWtH,OAAOuH,KAAKF,GAAOG,KAAK,SAACrG,EAAGsG,GACvC,OAAOJ,EAAMlG,GAAGuG,UAAYL,EAAMI,GAAGC,YAErCC,EAAcL,EAASM,QAAQhC,EAAKiC,MAAMV,gBAC1CQ,GAAe,EACf/B,EAAKO,SAAS,CACV2B,SAAS,EACTC,YAAaT,EAASU,OACtBC,gBAAiBN,EAAc,EAC/BO,gBAAgB,IAGpBtC,EAAKO,SAAS,CACV2B,SAAS,EACTC,YAAaT,EAASU,OACtBC,iBAAkB,OAxEfrC,EA8EnBuC,qBAAuB,WACnBvC,EAAKwB,SAASgB,MACdxC,EAAKgB,iBAAiBwB,OAhFPxC,EAmFnBlB,OAAS,SAAC3C,GAAM,IAEoDsG,EAFpDrG,EACUD,EAAEE,OAAlBuC,EADMxC,EACNwC,KAAMI,EADA5C,EACA4C,MACC,gBAATJ,GAA0BI,IAAUgB,EAAKiC,MAAMS,YAC/C1C,EAAKO,UAALkC,EAAA,GAAArI,OAAAuI,EAAA,EAAAvI,CAAAqI,EACK7D,EAAOI,GADZ5E,OAAAuI,EAAA,EAAAvI,CAAAqI,EAAA,kBAEqB,MAFrBrI,OAAAuI,EAAA,EAAAvI,CAAAqI,EAAA,qBAGwB,IAHxBA,IAMAzC,EAAKO,SAALnG,OAAAuI,EAAA,EAAAvI,CAAA,GAAiBwE,EAAOI,KA5FbgB,EAgGnBnC,cAAgB,WACZ,OAAOmC,EAAKiC,MAAMrB,MAjGHZ,EAoGnBjC,SAAW,WACP,IAAI6C,EAAOZ,EAAKiC,MAAMrB,KAAO,EACzBA,EAAOZ,EAAKhC,WAAa,IACzB4C,EAAOZ,EAAKhC,YAEhBgC,EAAKO,SAAS,CAAEK,SACZA,IAASZ,EAAKhC,WAAa,GAC3BgC,EAAK4C,wCA3GM5C,EA+GnBlC,SAAW,WACP,IAAI8C,EAAOZ,EAAKiC,MAAMrB,KAAO,EACzBA,EAAO,IACPA,EAAO,GAEXZ,EAAKO,SAAS,CAAEK,UApHDZ,EA8HnBvG,YAAc,SAACoJ,GACX7C,EAAKO,SAAS,CAAEsC,cA/HD7C,EAkInB8C,SAAW,SAACC,GACR/C,EAAKO,SAAS,CAAEwC,WAnID/C,EA0KnBgD,mBAAqB,WACjB,GAAIhD,EAAK4C,uCAAwC,KAAAK,EAC8BjD,EAAKiC,MAA1ErD,EADuCqE,EACvCrE,KAAM8D,EADiCO,EACjCP,YAAaQ,EADoBD,EACpBC,gBAAiBC,EADGF,EACHE,mBAAoBN,EADjBI,EACiBJ,SAC9DO,IAAQC,IAAI,aAAczE,GAC1B,IAAIyC,EAAWrB,EAAKwB,SAAS8B,KAAK,CAC9BZ,cACAQ,kBACAC,qBACAN,WACAf,UAAWnC,IAASsB,SAASsC,YAAYC,WAC1C,SAACrH,GACIA,GACA6D,EAAKyD,SAAStH,EAAEuH,WAErB5G,IAECuE,GACA1B,IAASsB,WAAWxF,IAApB,yBAAAyF,OAAiDlB,EAAKS,KAAM4C,IAAI,CAAEzE,OAAMyC,eAzLhFrB,EAAKiC,MAAQ,CACTrB,KAAM,EACNhC,KAAMwE,IAAQO,IAAI,eAAiB,GACnCjB,YAAa,KACbQ,gBAAiB,KACjBC,mBAAoB,GACpBN,SAAU,KACV/B,MAAO,GACPiC,OAAO,EACPZ,YAAa,EACbE,iBAAkB,EAClBH,SAAS,EACTX,eAAgB,GAChBe,gBAAgB,GAGpBtC,EAAKhC,WAAa,EAClBgC,EAAK4D,QAAU,CAAC,IAAK,IAAK,KAC1B5D,EAAK6D,OAAS,CACVC,IAAK,CAAC,QAAS,WAAY,kBAAmB,IAAK,QAAS,WAAY,aAAc,UAAW,UAAW,SAC5GC,IAAK,CAAC,oBAAqB,eAAgB,cAAe,iBAAkB,sCAAuC,cAAe,UAAW,SAC7IC,IAAK,CAAC,QAAS,OAAQ,mBAAoB,gBAAiB,gBAAiB,iBAAkB,iBAAkB,mBAAoB,SAAU,MAAO,aAAc,QAAS,UAAW,WAAY,UAAW,UAGnNhE,EAAKS,GAAK2C,IAAQO,IAAI,MA1BP3D,wEAuHVc,GACLZ,KAAKK,SAAS,CAAEO,yEAehB,MAAwB,KAApBZ,KAAK+B,MAAMrD,MACXsB,KAAKuD,SAAS,+BACdvD,KAAK4C,UAAS,IACP,GAGoB,OAA3B5C,KAAK+B,MAAMS,aACXxC,KAAKuD,SAAS,iCACdvD,KAAK4C,UAAS,IACP,GAGwB,OAA/B5C,KAAK+B,MAAMiB,iBACXhD,KAAKuD,SAAS,oCACdvD,KAAK4C,UAAS,IACP,GAG2B,KAAlC5C,KAAK+B,MAAMkB,oBACXjD,KAAKuD,SAAS,+CACdvD,KAAK4C,UAAS,IACP,GAGiB,OAAxB5C,KAAK+B,MAAMY,UACX3C,KAAKuD,SAAS,8CACdvD,KAAK4C,UAAS,IACP,IAEX5C,KAAKuD,SAAS,IACdvD,KAAK4C,UAAS,IAEP,oCA2BF,IAAAmB,EAUe/D,KAAK+B,MATnBrD,EADDqF,EACCrF,KACF8D,EAFCuB,EAEDvB,YACA9B,EAHCqD,EAGDrD,KACAsC,EAJCe,EAIDf,gBACAC,EALCc,EAKDd,mBACAN,EANCoB,EAMDpB,SACA/B,EAPCmD,EAODnD,MACAiC,EARCkB,EAQDlB,MACAV,EATC4B,EASD5B,gBACAF,EAVC8B,EAUD9B,YACA3I,EAAY,GAEhB,OADAA,EAAU8J,KAAKT,GACR5E,EAAA1C,EAAAC,cAAAyC,EAAA1C,EAAA2I,SAAA,KACHjG,EAAA1C,EAAAC,cAAA,MAAIE,MAAO,CAAEyC,OAAQ,OAAQC,UAAW,WAAxC,UAGC8B,KAAK+B,MAAMC,SAAWjE,EAAA1C,EAAAC,cAAAyC,EAAA1C,EAAA2I,SAAA,KACnBjG,EAAA1C,EAAAC,cAAA,OAAKE,MAAO,CAAEyI,UAAW,OAAQ/F,UAAW,WACxCH,EAAA1C,EAAAC,cAAA,MAAIE,MAAO,CAAE0I,WAAY,SAAzB,2CAA2EnG,EAAA1C,EAAAC,cAAA,QAAME,MAAO,CAAE6B,MAAO,QAAS6G,WAAY,SACjH/B,EADsE,IACpDF,IAGvBlE,EAAA1C,EAAAC,cAAA,OAAKE,MAAO,CAAE2I,SAAU,SACpBpG,EAAA1C,EAAAC,cAAA,gEACAyC,EAAA1C,EAAAC,cAAA,kDAAyCyC,EAAA1C,EAAAC,cAAC8I,EAAA,EAAD,CAAMC,GAAG,wBAAT,aAAzC,oDACAtG,EAAA1C,EAAAC,cAAA,gGAEAyC,EAAA1C,EAAAC,cAACgD,EAAA,EAAD,CAAQ9C,MAAO,CAAEgD,gBAAiB,WAC9BxC,QAASgE,KAAKI,kBACd7B,SAAUyB,KAAK+B,MAAMzB,qBAFzB,yBAQVN,KAAK+B,MAAMC,SACTjE,EAAA1C,EAAAC,cAAAyC,EAAA1C,EAAA2I,SAAA,KACIjG,EAAA1C,EAAAC,cAAA,OAAKE,MAAO,CAAE0C,UAAW,WAAzB,QAA2CwC,EAAO,EAAlD,IAAsDV,KAAKlC,YAC3DC,EAAA1C,EAAAC,cAAA,OAAKE,MAAO,CAAEyI,UAAW,OAAQ/F,UAAW,WAC9B,IAATwC,GAAc3C,EAAA1C,EAAAC,cAACgJ,EAAAjJ,EAAD,KACX0C,EAAA1C,EAAAC,cAAAyC,EAAA1C,EAAA2I,SAAA,KACIjG,EAAA1C,EAAAC,cAAA,gCACAyC,EAAA1C,EAAAC,cAAA,6LAC0DyC,EAAA1C,EAAAC,cAAC8I,EAAA,EAAD,CAAMC,GAAG,mBAAT,QAD1D,KAEAtG,EAAA1C,EAAAC,cAAA,oCACAyC,EAAA1C,EAAAC,cAACgD,EAAA,EAAD,CAAOiG,YAAa,OAChB7F,KAAM,OACNW,SAAUW,KAAKpB,OACfE,MAAOJ,EACPlD,MAAO,CAAEM,SAAU,IAAKmC,OAAQ,OAAQgG,UAAW,QAGrD,IAATvD,GAAc3C,EAAA1C,EAAAC,cAACgJ,EAAAjJ,EAAD,KACX0C,EAAA1C,EAAAC,cAAAyC,EAAA1C,EAAA2I,SAAA,KACIjG,EAAA1C,EAAAC,cAAA,sCACAyC,EAAA1C,EAAAC,cAACkJ,EAAD,CAAgB5F,OAAQoB,KAAKpB,OACzBF,KAAM,cACNC,KAAMqB,KAAK0D,QACX7E,SAAU,iBACVC,MAAO0D,MAGT,IAAT9B,GAAc3C,EAAA1C,EAAAC,cAACgJ,EAAAjJ,EAAD,KACVmH,EAEGzE,EAAA1C,EAAAC,cAAAyC,EAAA1C,EAAA2I,SAAA,KACIjG,EAAA1C,EAAAC,cAAA,mCACAyC,EAAA1C,EAAAC,cAACkJ,EAAD,CAAgB5F,OAAQoB,KAAKpB,OACzBF,KAAM,kBACNC,KAAMqB,KAAK2D,OAAOnB,GAClB3D,SAAU,iBACVC,MAAOkE,IACXjF,EAAA1C,EAAAC,cAAA,MAAIE,MAAO,CAAEyI,UAAW,KAAxB,gCACAlG,EAAA1C,EAAAC,cAACgD,EAAA,EAAD,CAAOiG,YAAa,UAChB7F,KAAM,qBACNW,SAAUW,KAAKpB,OACfE,MAAOmE,EACPzH,MAAO,CAAEM,SAAU,IAAKmC,OAAQ,OAAQgG,UAAW,OAG3DlG,EAAA1C,EAAAC,cAAA,yDAEE,IAAToF,GACG3C,EAAA1C,EAAAC,cAAAyC,EAAA1C,EAAA2I,SAAA,KACIjG,EAAA1C,EAAAC,cAAA,kDACAyC,EAAA1C,EAAAC,cAAA,WACIyC,EAAA1C,EAAAC,cAAClC,EAAA,EAAD,CAAiBI,SAAO,EAACD,YAAayG,KAAKzG,YAAaD,UAAWA,EAAWmL,KAAK,UAGrF,IAAT/D,GAAc3C,EAAA1C,EAAAC,cAACgJ,EAAAjJ,EAAD,KACX0C,EAAA1C,EAAAC,cAAAyC,EAAA1C,EAAA2I,SAAA,KACIjG,EAAA1C,EAAAC,cAAA,oBAEW,KAAVsF,GAAgB7C,EAAA1C,EAAAC,cAACgD,EAAA,EAAD,CAAOjB,MAAO,UAAWuD,GAE1C7C,EAAA1C,EAAAC,cAACgD,EAAA,EAAD,CACI9C,MAAO,CAAEgD,gBAAiB,WAC1BD,UAAWsE,EACX7G,QAASgE,KAAK8C,oBAHlB,mBAQA/E,EAAA1C,EAAAC,cAAA,KAAGE,MAAO,CAAEyI,UAAW,KAAvB,yGAAmIlG,EAAA1C,EAAAC,cAAC8I,EAAA,EAAD,CAAMC,GAAG,mBAAT,YAM/ItG,EAAA1C,EAAAC,cAACoJ,EAAD,CAAe/G,cAAeqC,KAAKrC,cAC/BC,SAAUoC,KAAKpC,SACfC,SAAUmC,KAAKnC,SACfC,WAAYkC,KAAKlC,sBApTE6G","file":"static/js/12.7ba28dbd.chunk.js","sourcesContent":["import React, { useState, useEffect, useRef } from 'react';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport { faCircle } from '@fortawesome/free-regular-svg-icons';\r\nimport TELabMap from './Assets/TELabMap.png'\r\n\r\nexport default function StudentLocation({ locations, setLocation, student }) {\r\n    const [imgData, setImgData] = useState({ x: 0, y: 0, width: 0, height: 0, parentNodeOffsetLeft: 0, parentNodeOffsetTop: 0 });\r\n    const imgRef = useRef(null);\r\n    const imgWrapRef = useRef(null);\r\n\r\n    // Effect is used as a replacement for the constructor/componentWillUnmount in this case.\r\n    // I want an event listener to listen for window resizes so I can modify where the circle is\r\n    // But this ran when the component wasn't loaded, causing performance issues.\r\n    // The callback function removes all the listeners.\r\n    useEffect(() => {\r\n        let resize = () => {\r\n            if (imgRef.current) {\r\n                let { offsetLeft, offsetTop, width, height, parentNode } = imgRef.current;\r\n                let parentNodeOffsetLeft = parentNode.offsetLeft;\r\n                let parentNodeOffsetTop = parentNode.offsetTop;\r\n                setImgData({ x: offsetLeft, y: offsetTop, width, height, parentNodeOffsetLeft, parentNodeOffsetTop });\r\n            }\r\n        }\r\n        if ((imgRef.current && imgData.x === 0 && imgData.y === 0) || (imgData.width === 0 || imgData.height === 0) ||\r\n            (imgData.parentNodeOffsetLeft === 0 || imgData.parentNodeOffsetTop === 0)) {\r\n            let { offsetLeft, offsetTop, width, height, parentNode } = imgRef.current;\r\n            let parentNodeOffsetLeft = parentNode.offsetLeft;\r\n            let parentNodeOffsetTop = parentNode.offsetTop;\r\n            setImgData({ x: offsetLeft, y: offsetTop, width, height, parentNodeOffsetLeft, parentNodeOffsetTop });\r\n        }\r\n        window.addEventListener('resize', resize);\r\n        return () => {\r\n            window.removeEventListener('resize', resize);\r\n        }\r\n    });\r\n    // console.log(imgData);\r\n    // console.log(imgData.x + (locations[0] ? locations[0].xPercentage * imgData.width : 0), imgData.y + (locations[0] ? locations[0].yPercentage * imgData.height : 0))\r\n    return <div ref={imgWrapRef} style={{ position: 'relative', height: '60%' }}>\r\n        <img alt={\"TE Lab Map. Please see one of the tutors if you need any accessibility accommodations and tutoring.\"} ref={imgRef} src={TELabMap} style={{ maxHeight: '50vh', maxWidth: '90vw', cursor: 'pointer' }} onClick={(e) => {\r\n            if (student && setLocation) {\r\n                const { offsetLeft, offsetTop, width, height } = e.target\r\n                const parentNodeOffsetLeft = e.target.parentNode.offsetLeft;\r\n                const parentNodeOffsetTop = e.target.parentNode.offsetTop;\r\n                // console.log(parentNodeOffsetLeft, parentNodeOffsetTop)\r\n                const locationObj = {\r\n                    xPercentage: (e.pageX - offsetLeft - parentNodeOffsetLeft) / width,\r\n                    yPercentage: (e.pageY - offsetTop - parentNodeOffsetTop) / height\r\n                };\r\n                setImgData({ x: offsetLeft, y: offsetTop, width, height, parentNodeOffsetLeft, parentNodeOffsetTop });\r\n                setLocation(locationObj);\r\n            }\r\n        }} />\r\n        {locations && locations.map((d, i) => <div key={'loc-' + i} style={{\r\n            position: 'absolute',\r\n            left: imgData.x + (d ? d.xPercentage * imgData.width : 0),\r\n            top: imgData.y + (d ? d.yPercentage * imgData.height : 0),\r\n            transform: 'translate(-50%, -50%)',\r\n            display: d ? '' : 'none'\r\n        }}><FontAwesomeIcon icon={faCircle} size={'2x'} style={{ color: 'red' }} /></div>)}\r\n    </div>\r\n}","module.exports = __webpack_public_path__ + \"static/media/TELabMap.97177b91.png\";","import React from 'react';\r\nimport { Grid, Row, Col } from 'react-flexbox-grid';\r\nimport { Button } from 'reactstrap';\r\nimport './TutorQButtons.css';\r\n\r\nexport default function TutorQButtons({ getPageNumber, prevStep, nextStep, totalPages }) {\r\n    return <div style={{ position: 'absolute', left: 0, bottom: 30, width: '100%', margin: 'auto', textAlign: 'center', zIndex: -5 }}>\r\n        <Grid fluid>\r\n            <Row>\r\n                <Col style={{ width: '50%' }}>\r\n                    <Button\r\n                        disabled={getPageNumber() < 1}\r\n                        style={{ backgroundColor: '#005696' }}\r\n                        onClick={prevStep}>{'< Back'}</Button>\r\n                </Col>\r\n                <Col style={{ width: '50%' }}>\r\n                    <Button\r\n                        disabled={getPageNumber() > totalPages - 2}\r\n                        style={{ backgroundColor: '#005696' }}\r\n                        onClick={nextStep}>{'Next >'}\r\n                    </Button>\r\n                </Col>\r\n            </Row>\r\n        </Grid>\r\n    </div>\r\n}","import React, { useState } from 'react';\r\nimport { Dropdown, DropdownToggle, DropdownMenu, DropdownItem } from 'reactstrap';\r\nimport './TutorQDropdown.css';\r\n\r\nexport default function TutorQDropdown({ name, data, change, initText, value }) { //\r\n    const [dropdownOpen, setDropdownOpen] = useState(false);\r\n    let asdf = () => {\r\n        console.log('asdf')\r\n    }\r\n    return <Dropdown name={name}\r\n        isOpen={dropdownOpen}\r\n        toggle={() => { setDropdownOpen(!dropdownOpen) }}>\r\n        <DropdownToggle caret\r\n            style={{ zIndex: 500, backgroundColor: '#005696' }}>\r\n            {value ? value : initText}\r\n        </DropdownToggle>\r\n        <DropdownMenu onChange={asdf} style={{ zIndex: 500 }}>\r\n            {data.map(d => <DropdownItem key={d}\r\n                onClick={() => change({ target: { name, value: d } })}\r\n                style={{ cursor: 'pointer' }}>\r\n                {d}\r\n            </DropdownItem>)}\r\n        </DropdownMenu>\r\n    </Dropdown>\r\n}","import React, { Component } from 'react';\r\nimport cookies from 'browser-cookies';\r\nimport TutorQButtons from './Components/TutorQButtons/TutorQButtons';\r\nimport TutorQDropdown from './Components/TutorQDropdown/TutorQDropdown';\r\nimport Fade from 'react-reveal/Fade';\r\nimport StudentLocation from '../Components/StudentLocation/StudentLocation';\r\nimport firebase from 'firebase/app';\r\nimport 'firebase/database';\r\nimport 'firebase/functions';\r\nimport { Input, Button, Alert } from 'reactstrap';\r\nimport './TutorQStudent.css';\r\nimport { Link } from 'react-router-dom'\r\n\r\nconst removeUserFromQueue = firebase.functions().httpsCallable('removeUserFromQueue');\r\n\r\nexport default class TutorQStudent extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            page: 0,\r\n            name: cookies.get('tutorqname') || '',\r\n            classNumber: null,\r\n            problemCategory: null,\r\n            problemDescription: '',\r\n            location: null,\r\n            error: '',\r\n            valid: false,\r\n            queueLength: 0,\r\n            positionInQueue: -1,\r\n            inQueue: false,\r\n            userInQueueKey: '',\r\n            sentToFirebase: false\r\n        }\r\n\r\n        this.totalPages = 5;\r\n        this.classes = [201, 330, 340];\r\n        this.topics = {\r\n            201: ['Setup', 'Markdown', 'Git/web servers', 'R', 'dplyr', 'Web APIs', 'R Markdown', 'ggplot2', 'R Shiny', 'Other'],\r\n            330: ['ERDs and MetaData', 'Create table', 'Constraints', 'Inserting data', 'Views, Functions, Stored procedures', 'Permissions', 'Testing', 'Other'],\r\n            340: ['Setup', 'HTML', 'CSS Fundamentals', 'CSS Selectors', 'CSS Layouting', 'Responsive CSS', 'CSS Frameworks', 'Basic JavaScript', 'jQuery', 'DOM', 'AJAX/Fetch', 'React', 'Routing', 'Firebase', 'Testing', 'Other']\r\n        }\r\n\r\n        this.id = cookies.get('id');\r\n        // firebase.database().ref('/blogPageView').push({\r\n        //     timestamp: firebase.database.ServerValue.TIMESTAMP,\r\n        //     id,\r\n        //     post: this.props.post\r\n        // });\r\n    }\r\n\r\n    removeMeFromQueue = () => {\r\n        this.setState({ removeButtonLoading: true });\r\n        removeUserFromQueue({ id: this.id }).then((r) => {\r\n            this.setState({ removeButtonLoading: false, page: 0 });\r\n            if (!r.data.success) {\r\n                console.log(r.data);\r\n                this.setState({ error: r.data.error });\r\n            }\r\n        });\r\n    }\r\n\r\n    componentDidMount = () => {\r\n        this.idToQueueInfoRef = firebase.database().ref(`/tutorq/idToQueueInfo/${this.id}`);\r\n        this.idToQueueInfoRef.on('value', (snap) => {\r\n            let val = snap.val() || {};\r\n            let { queueKey } = val;\r\n            this.setState({ userInQueueKey: queueKey });\r\n        })\r\n\r\n        this.queueRef = firebase.database().ref('/tutorq/inqueue')\r\n\r\n        this.queueRef.on('value', (snap) => {\r\n            let queue = snap.val() || {};\r\n            let queueArr = Object.keys(queue).sort((a, b) => {\r\n                return queue[a].timestamp - queue[b].timestamp;\r\n            });\r\n            let userInQueue = queueArr.indexOf(this.state.userInQueueKey);\r\n            if (userInQueue > -1) {\r\n                this.setState({\r\n                    inQueue: true,\r\n                    queueLength: queueArr.length,\r\n                    positionInQueue: userInQueue + 1,\r\n                    sentToFirebase: false,\r\n                });\r\n            } else {\r\n                this.setState({\r\n                    inQueue: false,\r\n                    queueLength: queueArr.length,\r\n                    positionInQueue: -1\r\n                })\r\n            }\r\n        });\r\n    }\r\n\r\n    componentWillUnmount = () => {\r\n        this.queueRef.off();\r\n        this.idToQueueInfoRef.off();\r\n    }\r\n\r\n    change = (e) => {\r\n        let { name, value } = e.target;\r\n        if (name === \"classNumber\" && value !== this.state.classNumber) {\r\n            this.setState({\r\n                [name]: value,\r\n                problemCategory: null,\r\n                problemDescription: ''\r\n            });\r\n        } else {\r\n            this.setState({ [name]: value });\r\n        }\r\n    }\r\n\r\n    getPageNumber = () => {\r\n        return this.state.page;\r\n    }\r\n\r\n    nextStep = () => {\r\n        let page = this.state.page + 1;\r\n        if (page > this.totalPages - 1) {\r\n            page = this.totalPages;\r\n        }\r\n        this.setState({ page });\r\n        if (page === this.totalPages - 1) {\r\n            this.checkValidityBeforeSendingToFirebase();\r\n        }\r\n    }\r\n\r\n    prevStep = () => {\r\n        let page = this.state.page - 1;\r\n        if (page < 0) {\r\n            page = 0;\r\n        }\r\n        this.setState({ page });\r\n    }\r\n\r\n    setError(error) {\r\n        this.setState({ error });\r\n    }\r\n\r\n    /**\r\n     * @param {object} location has fields {xPercentage, yPercentage}\r\n     */\r\n    setLocation = (location) => {\r\n        this.setState({ location });\r\n    }\r\n\r\n    setValid = (valid) => {\r\n        this.setState({ valid });\r\n    }\r\n\r\n    checkValidityBeforeSendingToFirebase() {\r\n        if (this.state.name === '') {\r\n            this.setError(\"Please provide a valid name\");\r\n            this.setValid(false);\r\n            return false;\r\n        }\r\n\r\n        if (this.state.classNumber === null) {\r\n            this.setError(\"Invalid class number provided\");\r\n            this.setValid(false);\r\n            return false;\r\n        }\r\n\r\n        if (this.state.problemCategory === null) {\r\n            this.setError(\"Please choose a problem category\");\r\n            this.setValid(false);\r\n            return false;\r\n        }\r\n\r\n        if (this.state.problemDescription === '') {\r\n            this.setError(\"Please provide a description of the problem\");\r\n            this.setValid(false);\r\n            return false;\r\n        }\r\n\r\n        if (this.state.location === null) {\r\n            this.setError(\"Please provide your location in the TE lab\");\r\n            this.setValid(false);\r\n            return false;\r\n        }\r\n        this.setError('');\r\n        this.setValid(true);\r\n        // this.setState({ page: 0 });\r\n        return true;\r\n    }\r\n\r\n    sendDataToFirebase = () => {\r\n        if (this.checkValidityBeforeSendingToFirebase()) {\r\n            let { name, classNumber, problemCategory, problemDescription, location } = this.state;\r\n            cookies.set('tutorqname', name);\r\n            let queueKey = this.queueRef.push({\r\n                classNumber,\r\n                problemCategory,\r\n                problemDescription,\r\n                location,\r\n                timestamp: firebase.database.ServerValue.TIMESTAMP,\r\n            }, (e) => {\r\n                if (e) {\r\n                    this.setError(e.message);\r\n                }\r\n            }).key;\r\n\r\n            if (queueKey) {\r\n                firebase.database().ref(`/tutorq/idToQueueInfo/${this.id}`).set({ name, queueKey });\r\n            }\r\n        }\r\n\r\n        // TODO: set a loading spinner!\r\n    }\r\n\r\n    render() {\r\n        let { name,\r\n            classNumber,\r\n            page,\r\n            problemCategory,\r\n            problemDescription,\r\n            location,\r\n            error,\r\n            valid,\r\n            positionInQueue,\r\n            queueLength } = this.state;\r\n        let locations = [];\r\n        locations.push(location);\r\n        return <>\r\n            <h1 style={{ margin: 'auto', textAlign: 'center' }}>TutorQ</h1>\r\n\r\n\r\n            {this.state.inQueue && <>\r\n                <div style={{ marginTop: '10vh', textAlign: 'center' }}>\r\n                    <h3 style={{ fontWeight: 'bold' }}>You are currently in queue at position: <span style={{ color: 'green', fontWeight: 'bold' }}>\r\n                        {positionInQueue}/{queueLength}\r\n                    </span>\r\n                    </h3>\r\n                    <div style={{ fontSize: '150%' }}>\r\n                        <p>Please be patient, a tutor will assist you shortly.</p>\r\n                        <p>In the meantime, please check out the <Link to=\"/blog/infotutor-home\">Tutor Hub</Link>. Don't worry, your place in line will be saved!</p>\r\n                        <p>If you would like to remove yourself from the queue, please click the button below:\r\n                        </p>\r\n                        <Button style={{ backgroundColor: '#005696' }}\r\n                            onClick={this.removeMeFromQueue}\r\n                            disabled={this.state.removeButtonLoading}\r\n                        >Remove from queue</Button>\r\n                    </div>\r\n                </div>\r\n            </>}\r\n\r\n            {!this.state.inQueue &&\r\n                <>\r\n                    <div style={{ textAlign: 'center' }}>Page {page + 1}/{this.totalPages}</div>\r\n                    <div style={{ marginTop: '10vh', textAlign: 'center' }}>\r\n                        {page === 0 && <Fade>\r\n                            <>\r\n                                <h3>Welcome to TutorQ!</h3>\r\n                                <p>This is an application used for the INFO tutor. Please have cookies enabled or the application will not function properly.\r\n                                    Your data will be collected. See how it is being used <Link to=\"/blog/tutordata\">here</Link>.</p>\r\n                                <h3>Please enter your name</h3>\r\n                                <Input placeholder={'Name'}\r\n                                    name={'name'}\r\n                                    onChange={this.change}\r\n                                    value={name}\r\n                                    style={{ maxWidth: 500, margin: 'auto', marginTop: 10 }} />\r\n                            </>\r\n                        </Fade>}\r\n                        {page === 1 && <Fade>\r\n                            <>\r\n                                <h3>Please select your class</h3>\r\n                                <TutorQDropdown change={this.change}\r\n                                    name={\"classNumber\"}\r\n                                    data={this.classes}\r\n                                    initText={\"Choose a class\"}\r\n                                    value={classNumber} />\r\n                            </>\r\n                        </Fade>}\r\n                        {page === 2 && <Fade>\r\n                            {classNumber\r\n                                ?\r\n                                <>\r\n                                    <h3>Please select a topic</h3>\r\n                                    <TutorQDropdown change={this.change}\r\n                                        name={\"problemCategory\"}\r\n                                        data={this.topics[classNumber]}\r\n                                        initText={\"Choose a topic\"}\r\n                                        value={problemCategory} />\r\n                                    <h3 style={{ marginTop: 15 }}>Please describe your problem</h3>\r\n                                    <Input placeholder={'Problem'}\r\n                                        name={'problemDescription'}\r\n                                        onChange={this.change}\r\n                                        value={problemDescription}\r\n                                        style={{ maxWidth: 500, margin: 'auto', marginTop: 30 }} />\r\n                                </>\r\n                                :\r\n                                <h3>Please select a class on the previous page</h3>}\r\n                        </Fade>}\r\n                        {page === 3 &&\r\n                            <>\r\n                                <h3>Where in the TE Lab are you sitting?</h3>\r\n                                <div>\r\n                                    <StudentLocation student setLocation={this.setLocation} locations={locations} test=\"123\" />\r\n                                </div>\r\n                            </>}\r\n                        {page === 4 && <Fade>\r\n                            <>\r\n                                <h3>Submit</h3>\r\n\r\n                                {error !== '' && <Alert color={\"danger\"}>{error}</Alert>}\r\n\r\n                                <Button\r\n                                    style={{ backgroundColor: '#005696' }}\r\n                                    disabled={!valid}\r\n                                    onClick={this.sendDataToFirebase}\r\n                                >\r\n                                    Join the queue!\r\n                                </Button>\r\n\r\n                                <p style={{ marginTop: 15 }}>By clicking this button, you acknowledge that your data is collected. See how your data is being used <Link to=\"/blog/tutordata\">here</Link></p>\r\n\r\n                            </>\r\n                        </Fade>}\r\n                    </div>\r\n                    {/** Previous and next button */}\r\n                    <TutorQButtons getPageNumber={this.getPageNumber}\r\n                        prevStep={this.prevStep}\r\n                        nextStep={this.nextStep}\r\n                        totalPages={this.totalPages} />\r\n                </>}\r\n        </>\r\n    }\r\n}\r\n\r\n        // tutorq\r\n        //     inprogress\r\n        //     helped\r\n//     inqueue // remove from queue when in progress"],"sourceRoot":""}