{"version":3,"sources":["../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/iterableToArrayLimit.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/arrayWithHoles.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/nonIterableRest.js","components/Pages/TutorQ/Admin/Components/BackToHubButton.js","components/Pages/TutorQ/Admin/Components/WhoInQueue/Components/PersonInQueue.js","components/Pages/TutorQ/Admin/Components/WhoInQueue/TutorQAdminWhoIsInQueue.js"],"names":["_defineProperty","obj","key","value","Object","defineProperty","enumerable","configurable","writable","__webpack_require__","d","__webpack_exports__","_objectSpread","_defineProperty__WEBPACK_IMPORTED_MODULE_0__","target","i","arguments","length","source","ownKeys","keys","getOwnPropertySymbols","concat","filter","sym","getOwnPropertyDescriptor","forEach","_slicedToArray","arr","arrayWithHoles","_arr","_n","_d","_e","undefined","_s","_i","Symbol","iterator","next","done","push","err","_iterableToArrayLimit","nonIterableRest","_arrayWithHoles","Array","isArray","_nonIterableRest","TypeError","BackToHubButton","react__WEBPACK_IMPORTED_MODULE_0__","react__WEBPACK_IMPORTED_MODULE_0___default","n","react_router_dom__WEBPACK_IMPORTED_MODULE_1__","a","createElement","style","marginBottom","className","textDecoration","color","backgroundColor","to","removeUserFromQueue","firebase","functions","httpsCallable","PersonInQueue","_ref","person","_useState","useState","_useState2","slicedToArray","loading","setLoading","timestamp","name","classNumber","problemCategory","problemDescription","id","dateTimestamp","Date","react_default","reactstrap_es","toLocaleDateString","toLocaleTimeString","disabled","onClick","removedFromQueue","then","r","data","success","console","log","TutorQAdminWhoIsInQueue","queue","setQueue","_useState3","_useState4","mapping","setMapping","useEffect","queueRef","database","ref","on","snap","val","mappingRef","off","modifiedQueue","objectSpread","_mapping$d","queueKey","modQueuePointer","queueAsArr","sort","b","map","Fragment","textAlign"],"mappings":"2FAAe,SAAAA,EAAAC,EAAAC,EAAAC,GAYf,OAXAD,KAAAD,EACAG,OAAAC,eAAAJ,EAAAC,EAAA,CACAC,QACAG,YAAA,EACAC,cAAA,EACAC,UAAA,IAGAP,EAAAC,GAAAC,EAGAF,EAZAQ,EAAAC,EAAAC,EAAA,sBAAAX,sCCAAS,EAAAC,EAAAC,EAAA,sBAAAC,IAAA,IAAAC,EAAAJ,EAAA,KACe,SAAAG,EAAAE,GACf,QAAAC,EAAA,EAAiBA,EAAAC,UAAAC,OAAsBF,IAAA,CACvC,IAAAG,EAAA,MAAAF,UAAAD,GAAAC,UAAAD,GAAA,GACAI,EAAAf,OAAAgB,KAAAF,GAEA,oBAAAd,OAAAiB,wBACAF,IAAAG,OAAAlB,OAAAiB,sBAAAH,GAAAK,OAAA,SAAAC,GACA,OAAApB,OAAAqB,yBAAAP,EAAAM,GAAAlB,eAIAa,EAAAO,QAAA,SAAAxB,GACME,OAAAS,EAAA,EAAAT,CAAcU,EAAAZ,EAAAgB,EAAAhB,MAIpB,OAAAY,+DCde,SAAAa,EAAAC,EAAAb,GACf,OAASX,OAAAyB,EAAA,EAAAzB,CAAcwB,ICJR,SAAAA,EAAAb,GACf,IAAAe,EAAA,GACAC,GAAA,EACAC,GAAA,EACAC,OAAAC,EAEA,IACA,QAAAC,EAAAC,EAAAR,EAAAS,OAAAC,cAA6CP,GAAAI,EAAAC,EAAAG,QAAAC,QAC7CV,EAAAW,KAAAN,EAAAhC,QAEAY,GAAAe,EAAAb,SAAAF,GAH4EgB,GAAA,IAKzE,MAAAW,GACHV,GAAA,EACAC,EAAAS,EACG,QACH,IACAX,GAAA,MAAAK,EAAA,QAAAA,EAAA,SACK,QACL,GAAAJ,EAAA,MAAAC,GAIA,OAAAH,EDnBgCa,CAAoBf,EAAAb,IAAYX,OAAAwC,EAAA,EAAAxC,GAJhEK,EAAAC,EAAAC,EAAA,sBAAAgB,sCEAe,SAAAkB,EAAAjB,GACf,GAAAkB,MAAAC,QAAAnB,GAAA,OAAAA,EADAnB,EAAAC,EAAAC,EAAA,sBAAAkC,sCCAe,SAAAG,IACf,UAAAC,UAAA,wDADAxC,EAAAC,EAAAC,EAAA,sBAAAqC,sCCAAvC,EAAAC,EAAAC,EAAA,sBAAAuC,IAAA,IAAAC,EAAA1C,EAAA,GAAA2C,EAAA3C,EAAA4C,EAAAF,GAAAG,EAAA7C,EAAA,KAEe,SAASyC,IACpB,OAAOE,EAAAG,EAAAC,cAAA,OAAKC,MAAO,CAAEC,aAAc,KAC/BN,EAAAG,EAAAC,cAACF,EAAA,EAAD,CAAMK,UAAU,MAAMF,MAAO,CAAEG,eAAgB,OAAQC,MAAO,QAASC,gBAAiB,WAAaC,GAAI,gBAAzG,kJCIFC,UAAsBC,IAASC,YAAYC,cAAc,wBAGhD,SAASC,EAATC,GAAmC,IAAVC,EAAUD,EAAVC,OAAUC,EAChBC,oBAAS,GADOC,EAAArE,OAAAsE,EAAA,EAAAtE,CAAAmE,EAAA,GACvCI,EADuCF,EAAA,GAC9BG,EAD8BH,EAAA,GAGtCI,EAA0EP,EAA1EO,UAAWC,EAA+DR,EAA/DQ,KAAMC,EAAyDT,EAAzDS,YAAaC,EAA4CV,EAA5CU,gBAAiBC,EAA2BX,EAA3BW,mBAAoBC,EAAOZ,EAAPY,GAC3E,IAAKL,EAAa,OAAO,KACzB,IAAIM,EAAgB,IAAIC,KAAKP,GAC7B,OAAOQ,EAAA9B,EAAAC,cAAC8B,EAAA,EAAD,KACHD,EAAA9B,EAAAC,cAAC8B,EAAA,EAAD,KACID,EAAA9B,EAAAC,cAAC8B,EAAA,EAAD,cAAkBR,GAClBO,EAAA9B,EAAAC,cAAC8B,EAAA,EAAD,gBAAuBP,EAAvB,MAAuCC,GACvCK,EAAA9B,EAAAC,cAAC8B,EAAA,EAAD,mBAAsBH,EAAcI,qBAApC,IAA2DJ,EAAcK,sBACzEH,EAAA9B,EAAAC,cAAC8B,EAAA,EAAD,qBAAwBL,GACxBI,EAAA9B,EAAAC,cAAC8B,EAAA,EAAD,CAAQG,SAAUd,EAASlB,MAAO,CAAEK,gBAAiB,WAAa4B,QAAS,WACvEd,GAAW,GACXZ,EAAoB,CAAEkB,KAAIS,kBAAkB,IAAQC,KAAK,SAAAC,GACrDjB,GAAW,GACNiB,EAAEC,KAAKC,SACRC,QAAQC,IAAIJ,EAAEC,UAL1B,YChBG,SAASI,IAA0B,IAAA3B,EACpBC,mBAAS,IADWC,EAAArE,OAAAsE,EAAA,EAAAtE,CAAAmE,EAAA,GACvC4B,EADuC1B,EAAA,GAChC2B,EADgC3B,EAAA,GAAA4B,EAEhB7B,mBAAS,IAFO8B,EAAAlG,OAAAsE,EAAA,EAAAtE,CAAAiG,EAAA,GAEvCE,EAFuCD,EAAA,GAE9BE,EAF8BF,EAAA,GAI9CG,oBAAU,WACN,IAAMC,EAAWzC,IAAS0C,WAAWC,IAAI,mBACzCF,EAASG,GAAG,QAAS,SAACC,GAClB,IAAIX,EAAQW,EAAKC,OAAS,GAC1BX,EAASD,KAGb,IAAMa,EAAa/C,IAAS0C,WAAWC,IAAI,yBAK3C,OAJAI,EAAWH,GAAG,QAAS,SAACC,GACpB,IAAIP,EAAUO,EAAKC,OAAS,GAC5BP,EAAWD,KAER,WACHG,EAASO,MACTD,EAAWC,QAEhB,IAGH,IAAIC,EAAa9G,OAAA+G,EAAA,EAAA/G,CAAA,GAAQ+F,GAEzB/F,OAAOgB,KAAKmF,GAAS7E,QAAQ,SAAAhB,GACzB,GAAI6F,EAAQ7F,GAAI,KAAA0G,EACab,EAAQ7F,GAA3B2G,EADMD,EACNC,SAAUvC,EADJsC,EACItC,KACZwC,EAAkBJ,EAAcG,GAChCC,IACAA,EAAgBxC,KAAOA,EACvBwC,EAAgBpC,GAAKxE,MAKjC,IAAI6G,EAAanH,OAAOgB,KAAK8F,GAAeM,KAAK,SAACjE,EAAGkE,GACjD,OAAOP,EAAc3D,GAAGsB,UAAYqC,EAAcO,GAAG5C,YACtD6C,IAAI,SAAAhH,GACH,IAAI4D,EAAS4C,EAAcxG,GAC3B,OAAO2E,EAAA9B,EAAAC,cAACY,EAAD,CAAelE,IAAKQ,EAAG4D,OAAQA,MAE1C,OAAOe,EAAA9B,EAAAC,cAAA6B,EAAA9B,EAAAoE,SAAA,KACHtC,EAAA9B,EAAAC,cAACN,EAAA,EAAD,MACuB,IAAtBqE,EAAWtG,QAAgBoE,EAAA9B,EAAAC,cAAA,sDACL,IAAtB+D,EAAWtG,QAAgBoE,EAAA9B,EAAAC,cAAA6B,EAAA9B,EAAAoE,SAAA,KACxBtC,EAAA9B,EAAAC,cAAA,uBAAe+D,EAAWtG,OAA1B,yBACAoE,EAAA9B,EAAAC,cAAC8B,EAAA,EAAD,CAAU7B,MAAO,CAAEmE,UAAW,SAAWL","file":"static/js/46.a6f84231.chunk.js","sourcesContent":["export default function _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}","import defineProperty from \"./defineProperty\";\nexport default function _objectSpread(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n    var ownKeys = Object.keys(source);\n\n    if (typeof Object.getOwnPropertySymbols === 'function') {\n      ownKeys = ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function (sym) {\n        return Object.getOwnPropertyDescriptor(source, sym).enumerable;\n      }));\n    }\n\n    ownKeys.forEach(function (key) {\n      defineProperty(target, key, source[key]);\n    });\n  }\n\n  return target;\n}","import arrayWithHoles from \"./arrayWithHoles\";\nimport iterableToArrayLimit from \"./iterableToArrayLimit\";\nimport nonIterableRest from \"./nonIterableRest\";\nexport default function _slicedToArray(arr, i) {\n  return arrayWithHoles(arr) || iterableToArrayLimit(arr, i) || nonIterableRest();\n}","export default function _iterableToArrayLimit(arr, i) {\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n  var _e = undefined;\n\n  try {\n    for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n\n  return _arr;\n}","export default function _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}","export default function _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance\");\n}","import React from 'react';\r\nimport { Link } from 'react-router-dom';\r\nexport default function BackToHubButton() {\r\n    return <div style={{ marginBottom: 10 }}>\r\n        <Link className=\"btn\" style={{ textDecoration: 'none', color: 'white', backgroundColor: \"#005696\" }} to={\"/tutorqadmin\"}>Back to admin hub</Link>\r\n    </div>;\r\n}","import React, { useState } from 'react';\r\nimport firebase from 'firebase/app';\r\nimport 'firebase/functions';\r\nimport {\r\n    Card, CardText, CardBody,\r\n    CardTitle, CardSubtitle, Button\r\n} from 'reactstrap';\r\n\r\nconst removeUserFromQueue = firebase.functions().httpsCallable('removeUserFromQueue');\r\n\r\n// TODO: Use an effect to stop setLoading from happening when component unmounts\r\nexport default function PersonInQueue({ person }) {\r\n    const [loading, setLoading] = useState(false);\r\n\r\n    const { timestamp, name, classNumber, problemCategory, problemDescription, id } = person;\r\n    if (!timestamp) { return null; }\r\n    let dateTimestamp = new Date(timestamp);\r\n    return <Card>\r\n        <CardBody>\r\n            <CardTitle>Name: {name}</CardTitle>\r\n            <CardSubtitle>Course: {classNumber} - {problemCategory}</CardSubtitle>\r\n            <CardText>Submitted: {dateTimestamp.toLocaleDateString()} {dateTimestamp.toLocaleTimeString()}</CardText>\r\n            <CardText>Description: {problemDescription}</CardText>\r\n            <Button disabled={loading} style={{ backgroundColor: \"#005696\" }} onClick={() => {\r\n                setLoading(true);\r\n                removeUserFromQueue({ id, removedFromQueue: true }).then(r => {\r\n                    setLoading(false);\r\n                    if (!r.data.success) {\r\n                        console.log(r.data);\r\n                    }\r\n                });\r\n            }}>Remove</Button>\r\n        </CardBody>\r\n    </Card>\r\n}","import React, { useState, useEffect } from 'react';\r\nimport firebase from 'firebase/app';\r\nimport 'firebase/database';\r\nimport BackToHubButton from '../BackToHubButton';\r\nimport { CardDeck } from 'reactstrap';\r\nimport PersonInQueue from './Components/PersonInQueue';\r\n\r\nexport default function TutorQAdminWhoIsInQueue() {\r\n    const [queue, setQueue] = useState({});\r\n    const [mapping, setMapping] = useState({});\r\n\r\n    useEffect(() => {\r\n        const queueRef = firebase.database().ref('/tutorq/inqueue');\r\n        queueRef.on('value', (snap) => {\r\n            let queue = snap.val() || {};\r\n            setQueue(queue);\r\n        });\r\n\r\n        const mappingRef = firebase.database().ref('/tutorq/idToQueueInfo');\r\n        mappingRef.on('value', (snap) => {\r\n            let mapping = snap.val() || {};\r\n            setMapping(mapping);\r\n        })\r\n        return () => {\r\n            queueRef.off();\r\n            mappingRef.off();\r\n        }\r\n    }, []);\r\n\r\n    // creates a clone of the current queue\r\n    let modifiedQueue = { ...queue };\r\n\r\n    Object.keys(mapping).forEach(d => {\r\n        if (mapping[d]) {\r\n            let { queueKey, name } = mapping[d];\r\n            let modQueuePointer = modifiedQueue[queueKey];\r\n            if (modQueuePointer) {\r\n                modQueuePointer.name = name;\r\n                modQueuePointer.id = d;\r\n            }\r\n        }\r\n    });\r\n\r\n    let queueAsArr = Object.keys(modifiedQueue).sort((a, b) => {\r\n        return modifiedQueue[a].timestamp - modifiedQueue[b].timestamp;\r\n    }).map(d => {\r\n        let person = modifiedQueue[d];\r\n        return <PersonInQueue key={d} person={person} />\r\n    });\r\n    return <>\r\n        <BackToHubButton />\r\n        {queueAsArr.length === 0 && <div>There is nobody in the queue right now.</div>}\r\n        {queueAsArr.length !== 0 && <>\r\n            <h3>There are {queueAsArr.length} people in the queue.</h3>\r\n            <CardDeck style={{ textAlign: 'left' }}>{queueAsArr}</CardDeck>\r\n        </>}\r\n    </>\r\n}"],"sourceRoot":""}