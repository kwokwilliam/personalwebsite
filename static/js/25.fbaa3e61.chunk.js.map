{"version":3,"sources":["components/Pages/TutorQ/Components/StudentLocation/StudentLocation.js","components/Pages/TutorQ/Components/StudentLocation/Assets/TELabMap.png","components/Pages/TutorQ/Admin/Components/BackToHubButton.js","components/Pages/TutorQ/Admin/Components/SeatingDistribution/TutorQAdminSeatingDistribution.js"],"names":["StudentLocation","_ref","locations","setLocation","student","_useState","useState","x","y","width","height","parentNodeOffsetLeft","parentNodeOffsetTop","_useState2","Object","D_Files_JobRelated_personalwebsite_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_0__","imgData","setImgData","imgRef","useRef","imgWrapRef","useEffect","resize","current","_imgRef$current","offsetLeft","offsetTop","parentNode","_imgRef$current2","window","addEventListener","removeEventListener","react__WEBPACK_IMPORTED_MODULE_1___default","a","createElement","ref","style","position","alt","src","TELabMap","maxHeight","maxWidth","cursor","onClick","e","_e$target","target","locationObj","xPercentage","pageX","yPercentage","pageY","map","d","i","key","left","top","transform","display","_fortawesome_react_fontawesome__WEBPACK_IMPORTED_MODULE_2__","icon","faCircle","size","color","module","exports","__webpack_require__","p","__webpack_exports__","BackToHubButton","react__WEBPACK_IMPORTED_MODULE_0__","react__WEBPACK_IMPORTED_MODULE_0___default","n","react_router_dom__WEBPACK_IMPORTED_MODULE_1__","marginBottom","className","textDecoration","backgroundColor","to","TutorQAdminSeatingDistribution","_this","D_Files_JobRelated_personalwebsite_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_0__","this","D_Files_JobRelated_personalwebsite_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_2__","D_Files_JobRelated_personalwebsite_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_getPrototypeOf__WEBPACK_IMPORTED_MODULE_3__","call","state","queueList","_this2","queueRef","firebase","database","on","snap","queueVal","val","setState","off","keys","location","react__WEBPACK_IMPORTED_MODULE_5___default","Fragment","_BackToHubButton__WEBPACK_IMPORTED_MODULE_9__","_Components_StudentLocation_StudentLocation__WEBPACK_IMPORTED_MODULE_6__","Component"],"mappings":"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","file":"static/js/25.fbaa3e61.chunk.js","sourcesContent":["import React, { useState, useEffect, useRef } from 'react';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport { faCircle } from '@fortawesome/free-regular-svg-icons';\r\nimport TELabMap from './Assets/TELabMap.png'\r\n\r\nexport default function StudentLocation({ locations, setLocation, student }) {\r\n    const [imgData, setImgData] = useState({ x: 0, y: 0, width: 0, height: 0, parentNodeOffsetLeft: 0, parentNodeOffsetTop: 0 });\r\n    const imgRef = useRef(null);\r\n    const imgWrapRef = useRef(null);\r\n\r\n    // Effect is used as a replacement for the constructor/componentWillUnmount in this case.\r\n    // I want an event listener to listen for window resizes so I can modify where the circle is\r\n    // But this ran when the component wasn't loaded, causing performance issues.\r\n    // The callback function removes all the listeners.\r\n    useEffect(() => {\r\n        let resize = () => {\r\n            if (imgRef.current) {\r\n                let { offsetLeft, offsetTop, width, height, parentNode } = imgRef.current;\r\n                let parentNodeOffsetLeft = parentNode.offsetLeft;\r\n                let parentNodeOffsetTop = parentNode.offsetTop;\r\n                setImgData({ x: offsetLeft, y: offsetTop, width, height, parentNodeOffsetLeft, parentNodeOffsetTop });\r\n            }\r\n        }\r\n        if ((imgRef.current && imgData.x === 0 && imgData.y === 0) || (imgData.width === 0 || imgData.height === 0) ||\r\n            (imgData.parentNodeOffsetLeft === 0 || imgData.parentNodeOffsetTop === 0)) {\r\n            let { offsetLeft, offsetTop, width, height, parentNode } = imgRef.current;\r\n            let parentNodeOffsetLeft = parentNode.offsetLeft;\r\n            let parentNodeOffsetTop = parentNode.offsetTop;\r\n            setImgData({ x: offsetLeft, y: offsetTop, width, height, parentNodeOffsetLeft, parentNodeOffsetTop });\r\n        }\r\n        window.addEventListener('resize', resize);\r\n        return () => {\r\n            window.removeEventListener('resize', resize);\r\n        }\r\n    });\r\n    // console.log(imgData);\r\n    // console.log(imgData.x + (locations[0] ? locations[0].xPercentage * imgData.width : 0), imgData.y + (locations[0] ? locations[0].yPercentage * imgData.height : 0))\r\n    return <div ref={imgWrapRef} style={{ position: 'relative', height: '60%' }}>\r\n        <img alt={\"TE Lab Map. Please see one of the tutors if you need any accessibility accommodations and tutoring.\"} ref={imgRef} src={TELabMap} style={{ maxHeight: '50vh', maxWidth: '90vw', cursor: 'pointer' }} onClick={(e) => {\r\n            if (student && setLocation) {\r\n                const { offsetLeft, offsetTop, width, height } = e.target\r\n                const parentNodeOffsetLeft = e.target.parentNode.offsetLeft;\r\n                const parentNodeOffsetTop = e.target.parentNode.offsetTop;\r\n                // console.log(parentNodeOffsetLeft, parentNodeOffsetTop)\r\n                const locationObj = {\r\n                    xPercentage: (e.pageX - offsetLeft - parentNodeOffsetLeft) / width,\r\n                    yPercentage: (e.pageY - offsetTop - parentNodeOffsetTop) / height\r\n                };\r\n                setImgData({ x: offsetLeft, y: offsetTop, width, height, parentNodeOffsetLeft, parentNodeOffsetTop });\r\n                setLocation(locationObj);\r\n            }\r\n        }} />\r\n        {locations && locations.map((d, i) => <div key={'loc-' + i} style={{\r\n            position: 'absolute',\r\n            left: imgData.x + (d ? d.xPercentage * imgData.width : 0),\r\n            top: imgData.y + (d ? d.yPercentage * imgData.height : 0),\r\n            transform: 'translate(-50%, -50%)',\r\n            display: d ? '' : 'none'\r\n        }}><FontAwesomeIcon icon={faCircle} size={'2x'} style={{ color: 'red' }} /></div>)}\r\n    </div>\r\n}","module.exports = __webpack_public_path__ + \"static/media/TELabMap.97177b91.png\";","import React from 'react';\r\nimport { Link } from 'react-router-dom';\r\nexport default function BackToHubButton() {\r\n    return <div style={{ marginBottom: 10 }}>\r\n        <Link className=\"btn\" style={{ textDecoration: 'none', color: 'white', backgroundColor: \"#005696\" }} to={\"/tutorqadmin\"}>Back to admin hub</Link>\r\n    </div>;\r\n}","import React, { Component } from 'react';\r\nimport StudentLocation from '../../../Components/StudentLocation/StudentLocation';\r\nimport firebase from 'firebase/app';\r\nimport 'firebase/database';\r\nimport BackToHubButton from '../BackToHubButton';\r\n\r\nexport default class TutorQAdminSeatingDistribution extends Component {\r\n    constructor() {\r\n        super();\r\n\r\n        this.state = {\r\n            queueList: {}\r\n        }\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.queueRef = firebase.database().ref(`/tutorq/inqueue`);\r\n        this.queueRef.on('value', (snap) => {\r\n            let queueVal = snap.val() || {};\r\n            this.setState({ queueList: queueVal });\r\n        });\r\n    }\r\n\r\n    componentWillUnmount() {\r\n        this.queueRef.off();\r\n    }\r\n\r\n    render() {\r\n        const { queueList } = this.state;\r\n        let locations = Object.keys(queueList).map(d => {\r\n            return queueList[d].location;\r\n        })\r\n        return <>\r\n            <BackToHubButton />\r\n            <StudentLocation locations={locations} student={false} />\r\n        </>\r\n    }\r\n}"],"sourceRoot":""}