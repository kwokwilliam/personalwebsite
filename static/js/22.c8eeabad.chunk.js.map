{"version":3,"sources":["components/Pages/TutorQ/Admin/TutorQAdmin.js"],"names":["Loading","react__WEBPACK_IMPORTED_MODULE_5___default","a","createElement","react_loader_spinner__WEBPACK_IMPORTED_MODULE_9___default","type","color","height","width","TutorQAdminMain","Loadable","loader","__webpack_require__","e","then","bind","loading","TutorQAdminWhoIsInQueue","TutorQAdminAdminQueue","Promise","all","TutorQAdminSeatingDistribution","provider","firebase","auth","GoogleAuthProvider","isUserAdmin","functions","httpsCallable","TutorQAdmin","props","_this","Object","_Users_williamk_Desktop_Work_personalwebsite_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_0__","this","_Users_williamk_Desktop_Work_personalwebsite_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_2__","_Users_williamk_Desktop_Work_personalwebsite_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_getPrototypeOf__WEBPACK_IMPORTED_MODULE_3__","call","state","user","admin","adminButtons","linkTo","linkText","_this2","onAuthStateChanged","r","data","setState","_this3","_this$state","style","textAlign","marginBottom","reactstrap__WEBPACK_IMPORTED_MODULE_7__","onClick","signInWithRedirect","backgroundColor","Fragment","react_router_dom__WEBPACK_IMPORTED_MODULE_8__","exact","path","render","uid","signOut","Component"],"mappings":"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","file":"static/js/22.c8eeabad.chunk.js","sourcesContent":["import React, { Component } from 'react';\nimport firebase from 'firebase/app';\nimport { Button } from 'reactstrap';\nimport { Route } from 'react-router-dom';\nimport Spinner from 'react-loader-spinner';\nimport 'firebase/auth';\nimport 'firebase/functions';\nimport Loadable from 'react-loadable';\n\nconst Loading = () => <div><Spinner\n    type=\"Oval\"\n    color=\"#005696\"\n    height=\"100\"\n    width=\"100\"\n/></div>;\n\nconst TutorQAdminMain = Loadable({\n    loader: () => import('./Components/Main/TutorQAdminMain'),\n    loading: Loading,\n});\n\nconst TutorQAdminWhoIsInQueue = Loadable({\n    loader: () => import('./Components/WhoInQueue/TutorQAdminWhoIsInQueue'),\n    loading: Loading,\n});\n\nconst TutorQAdminAdminQueue = Loadable({\n    loader: () => import('./Components/AdminQueue/TutorQAdminAdminQueue'),\n    loading: Loading,\n});\n\nconst TutorQAdminSeatingDistribution = Loadable({\n    loader: () => import('./Components/SeatingDistribution/TutorQAdminSeatingDistribution'),\n    loading: Loading,\n});\n\nlet provider = new firebase.auth.GoogleAuthProvider();\nconst isUserAdmin = firebase.functions().httpsCallable('isUserAdmin');\n\nexport default class TutorQAdmin extends Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            user: null,\n            loading: true,\n            admin: false\n        }\n\n        this.adminButtons = [\n            {\n                linkTo: \"/tutorqadmin/adminqueue\",\n                linkText: \"Main Admin Tool\"\n            },\n            {\n                linkTo: \"/tutorqadmin/whosinqueue\",\n                linkText: \"See Queue List\"\n            },\n            {\n                linkTo: \"/tutorqadmin/seatingdistribution\",\n                linkText: \"Seating Distribution\"\n            },\n            // {\n            //     linkTo: \"/tutorqadmin/statistics\",\n            //     linkText: \"Tutor Statistics\"\n            // }\n        ]\n    }\n\n    componentWillMount() {\n        firebase.auth().onAuthStateChanged(user => {\n            if (user) {\n                isUserAdmin().then(r => {\n                    if (r.data) {\n                        this.setState({ admin: true, user, loading: false });\n                    } else {\n                        this.setState({ admin: false, user, loading: false });\n                    }\n                })\n            } else {\n                this.setState({ user: null, loading: false });\n            }\n        });\n    }\n\n    render() {\n        const { loading, user, admin } = this.state;\n        return <div style={{ textAlign: 'center' }}>\n            <h1 style={{ marginBottom: '5vh' }}>\n                TutorQ Admin Panel\n            </h1>\n\n            {loading && <Loading />}\n\n            {!loading && !user && <div>\n                <Button onClick={() => {\n                    firebase.auth().signInWithRedirect(provider);\n                }} style={{ backgroundColor: \"#005696\" }}>Sign in with Google</Button>\n            </div>}\n\n            {user && admin && <>\n                <Route exact path={\"/tutorqadmin\"} render={() => <TutorQAdminMain adminButtons={this.adminButtons} />} />\n                <Route path={\"/tutorqadmin/adminqueue\"} render={() => <TutorQAdminAdminQueue uid={user.uid} />} />\n                <Route path={\"/tutorqadmin/whosinqueue\"} render={() => <TutorQAdminWhoIsInQueue />} />\n                <Route path={\"/tutorqadmin/seatingdistribution\"} render={() => <TutorQAdminSeatingDistribution />} />\n            </>}\n\n            {user && !admin && <>\n                <h1>You are not permitted to view this page.</h1>\n                <Button onClick={() => {\n                    firebase.auth().signOut();\n                }}>\n                    Sign out\n                </Button>\n            </>}\n        </div>\n    }\n}\n\n// TODO: CONCURRENCY AND SLOW INTERNET"],"sourceRoot":""}