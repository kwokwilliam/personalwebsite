(window.webpackJsonp=window.webpackJsonp||[]).push([[23],{247:function(e,t,n){"use strict";function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.d(t,"a",function(){return r})},254:function(e,t,n){"use strict";n.d(t,"a",function(){return a});var r=n(247);function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},a=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(a=a.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),a.forEach(function(t){Object(r.a)(e,t,n[t])})}return e}},257:function(e,t,n){"use strict";function r(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=[],r=!0,a=!1,u=void 0;try{for(var o,i=e[Symbol.iterator]();!(r=(o=i.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(c){a=!0,u=c}finally{try{r||null==i.return||i.return()}finally{if(a)throw u}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}n.d(t,"a",function(){return r})},261:function(e,t,n){"use strict";n.d(t,"a",function(){return o});var r=n(0),a=n.n(r),u=n(734);function o(){return a.a.createElement("div",{style:{marginBottom:10}},a.a.createElement(u.a,{className:"btn",style:{textDecoration:"none",color:"white",backgroundColor:"#005696"},to:"/tutorqadmin"},"Back to admin hub"))}},733:function(e,t,n){"use strict";n.r(t);var r=n(254),a=n(16),u=n(17),o=n(19),i=n(18),c=n(20),l=n(0),s=n.n(l),f=n(12),m=n.n(f),b=(n(116),n(261)),p=n(245),d=n(257),h=(n(260),m.a.functions().httpsCallable("removeUserFromQueue"));function v(e){var t=e.person,n=Object(l.useState)(!1),r=Object(d.a)(n,2),a=r[0],u=r[1],o=t.timestamp,i=t.name,c=t.classNumber,f=t.problemCategory,m=t.problemDescription,b=t.id;if(!o)return null;var v=new Date(o);return s.a.createElement(p.c,null,s.a.createElement(p.d,null,s.a.createElement(p.i,null,"Name: ",i),s.a.createElement(p.g,null,"Course: ",c," - ",f),s.a.createElement(p.h,null,"Submitted: ",v.toLocaleDateString()," ",v.toLocaleTimeString()),s.a.createElement(p.h,null,"Description: ",m),s.a.createElement(p.b,{disabled:a,style:{backgroundColor:"#005696"},onClick:function(){u(!0),h({id:b,removedFromQueue:!0}).then(function(e){u(!1),e.data.success||console.log(e.data)})}},"Remove")))}n.d(t,"default",function(){return y});var y=function(e){function t(e){var n;return Object(a.a)(this,t),(n=Object(o.a)(this,Object(i.a)(t).call(this,e))).state={queue:{},mapping:{}},n}return Object(c.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.queueRef=m.a.database().ref("/tutorq/inqueue"),this.queueRef.on("value",function(t){var n=t.val()||{};e.setState({queue:n})}),this.mappingRef=m.a.database().ref("/tutorq/idToQueueInfo"),this.mappingRef.on("value",function(t){var n=t.val()||{};e.setState({mapping:n})})}},{key:"componentWillUnmount",value:function(){this.queueRef.off(),this.mappingRef.off()}},{key:"render",value:function(){var e=this.state,t=e.queue,n=e.mapping,a=Object(r.a)({},t);Object.keys(n).forEach(function(e){if(n[e]){var t=n[e],r=t.queueKey,u=t.name,o=a[r];o&&(o.name=u,o.id=e)}});var u=Object.keys(a).map(function(e){var t=a[e];return s.a.createElement(v,{key:e,person:t})});return s.a.createElement(s.a.Fragment,null,s.a.createElement(b.a,null),0===u.length&&s.a.createElement("div",null,"There is nobody in the queue right now."),0!==u.length&&s.a.createElement(s.a.Fragment,null,s.a.createElement("h3",null,"There are ",u.length," people in the queue."),s.a.createElement(p.e,{style:{textAlign:"left"}},u)))}}]),t}(l.Component)}}]);
//# sourceMappingURL=23.d99290fa.chunk.js.map